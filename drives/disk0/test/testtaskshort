5 rem can have up to 10 tasks, main is always 1, so can have 9 more taskscls
7 cls:?27$;"[?25l";: rem turn off the cursor
10 x= task(100) : y=task(1000): v=task(2000): d = 200 : e =100: f = 25: g = 1: h=20
12 i=3200 : j=50 : z = 0
15 v = task(2000):v = task(2000) :v = task(2000):v = task(2000):v = task(2000) :v = task(2000)

20 ?27$;"[5;10H";"Main Line at ";a;

21 a = a + g
22 ?27$;"[5;23H";a;
25 if a>i ?27$;"[30;10H";27$;"[?25hEnd program":end
26 if not stat(x)  x=task(100) : ?27$;"[5;40HRestart Task at 100"; : b=0
30 goto 21


100 rem test task
102 g = 1 : h = 20
105 ?27$;"[6;10HStart Task 1 PID ";PID;
106 ?27$;"[6;40HTask 1 PID ";PID;" Count =";
110 b = b+g
112 ?27$;"[6;67H";b;" "
115 if b > h ?27$;"[6;40HTask 1 PID ";PID;" Exits ";:taske
120 goto 110


1000 rem a second task
1002 g = 1
1005 ?27$;"[7;10HTask 2 PID ";task(0);" Started"; : c = 0
1007 ?27$;"[7;40HTask 2 PID ";task(0);" Count=";
1010 c = c + g
1015 ?27$;"[7;67H";c
1017 taskn
1020 goto 1010


2000 Rem Fast Task
2010 j = 50: g = 1
2015 ?27$;"[";PID/21+10;";10HTask Gen PID ";PID;" Started";:taskn
2017 ?27$;"[";PID/21+10;";40HTask Gen PID ";PID;" Alive ";pid/21 ;"   ";:taskn
2020 a = a+g
2030 if a%j=z ?27$;"[";PID/21+10;";67H";a
2040 goto 2020
