ca65 V2.19 - Git 544a49c
Main file   : hello.s
Current file: hello.s

000000r 1               ;
000000r 1               ; File generated by cc65 v 2.19 - Git 544a49c
000000r 1               ;
000000r 1               	.fopt		compiler,"cc65 v 2.19 - Git 544a49c"
000000r 1               	.setcpu		"65C02"
000000r 1               	.smart		on
000000r 1               	.autoimport	on
000000r 1               	.case		on
000000r 1               	.debuginfo	on
000000r 1               	.importzp	sp, sreg, regsave, regbank
000000r 1               	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
000000r 1               	.macpack	longbranch
000000r 2               .macro  jeq     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                       bne     *+5
000000r 2                       jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               beq     Target
000000r 2                       .else
000000r 2                               bne     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jne     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               beq     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bne     Target
000000r 2                       .else
000000r 2                               beq     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jmi     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bpl     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bmi     Target
000000r 2                       .else
000000r 2                               bpl     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jpl     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bmi     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bpl     Target
000000r 2                       .else
000000r 2                               bmi     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jcs     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bcc     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bcs     Target
000000r 2                       .else
000000r 2                               bcc     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jcc     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bcs     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bcc     Target
000000r 2                       .else
000000r 2                               bcs     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jvs     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bvc     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bvs     Target
000000r 2                       .else
000000r 2                               bvc     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               .macro  jvc     Target
000000r 2                       .if     .match(Target, 0)
000000r 2                               bvs     *+5
000000r 2                               jmp     Target
000000r 2                       .elseif .def(Target) .and .const((*-2)-(Target)) .and ((*+2)-(Target) <= 127)
000000r 2                               bvc     Target
000000r 2                       .else
000000r 2                               bvs     *+5
000000r 2                               jmp     Target
000000r 2                       .endif
000000r 2               .endmacro
000000r 2               
000000r 1               	.dbg		file, "hello.c", 4811, 1675712611
000000r 1               	.dbg		file, "/usr/share/cc65/include/stdio.h", 6887, 1605895793
000000r 1               	.dbg		file, "/usr/share/cc65/include/stdlib.h", 6885, 1605895793
000000r 1               	.dbg		file, "/usr/share/cc65/include/string.h", 5492, 1605895793
000000r 1               	.dbg		file, "/usr/share/cc65/include/fcntl.h", 3550, 1605895793
000000r 1               	.dbg		file, "/usr/share/cc65/include/errno.h", 5854, 1605895793
000000r 1               	.dbg		file, "/usr/share/cc65/include/unistd.h", 4309, 1605895793
000000r 1               	.dbg		file, "../../cc65Integration/include/ctmon65.h", 4279, 1675797743
000000r 1               	.forceimport	__STARTUP__
000000r 1               	.dbg		sym, "fclose", "00", extern, "_fclose"
000000r 1               	.dbg		sym, "fgets", "00", extern, "_fgets"
000000r 1               	.dbg		sym, "fopen", "00", extern, "_fopen"
000000r 1               	.dbg		sym, "fread", "00", extern, "_fread"
000000r 1               	.dbg		sym, "fwrite", "00", extern, "_fwrite"
000000r 1               	.dbg		sym, "printf", "00", extern, "_printf"
000000r 1               	.dbg		sym, "putchar", "00", extern, "_putchar"
000000r 1               	.dbg		sym, "malloc", "00", extern, "_malloc"
000000r 1               	.dbg		sym, "free", "00", extern, "_free"
000000r 1               	.dbg		sym, "strcpy", "00", extern, "_strcpy"
000000r 1               	.dbg		sym, "open", "00", extern, "_open"
000000r 1               	.dbg		sym, "close", "00", extern, "_close"
000000r 1               	.dbg		sym, "__errno", "00", extern, "___errno"
000000r 1               	.dbg		sym, "read", "00", extern, "_read"
000000r 1               	.import		_fclose
000000r 1               	.import		_fgets
000000r 1               	.import		_fopen
000000r 1               	.import		_fread
000000r 1               	.import		_fwrite
000000r 1               	.import		_printf
000000r 1               	.import		_putchar
000000r 1               	.import		_malloc
000000r 1               	.import		_free
000000r 1               	.import		_strcpy
000000r 1               	.import		_open
000000r 1               	.import		_close
000000r 1               	.import		___errno
000000r 1               	.import		_read
000000r 1               	.export		_copy
000000r 1               	.export		_seperator
000000r 1               	.export		_main
000000r 1               
000000r 1               .segment	"RODATA"
000000r 1               
000000r 1               S0025:
000000r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$66,$6F,$70,$65,$6E,$20,$73,$6F,$75,$72,$63
000004r 1  20 66 6F 70  
000008r 1  65 6E 20 73  
000010r 1  65 20 25 73  	.byte	$65,$20,$25,$73,$20,$72,$65,$74,$75,$72,$6E,$65,$64,$20,$25,$64
000014r 1  20 72 65 74  
000018r 1  75 72 6E 65  
000020r 1  2C 20 45 72  	.byte	$2C,$20,$45,$72,$72,$6F,$72,$20,$6E,$75,$6D,$62,$65,$72,$20,$25
000024r 1  72 6F 72 20  
000028r 1  6E 75 6D 62  
000030r 1  64 0A 55 73  	.byte	$64,$0A,$55,$73,$69,$6E,$67,$20,$66,$72,$65,$61,$64,$20,$74,$6F
000034r 1  69 6E 67 20  
000038r 1  66 72 65 61  
000040r 1  20 72 65 61  	.byte	$20,$72,$65,$61,$64,$20,$65,$61,$63,$68,$20,$6C,$69,$6E,$65,$0A
000044r 1  64 20 65 61  
000048r 1  63 68 20 6C  
000050r 1  3D 3D 3D 3D  	.byte	$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$0A,$00
000054r 1  3D 3D 3D 3D  
000058r 1  3D 3D 3D 3D  
00005Er 1               S0014:
00005Er 1  66 72 65 61  	.byte	$66,$72,$65,$61,$64,$20,$25,$73,$20,$43,$6F,$75,$6E,$74,$20,$72
000062r 1  64 20 25 73  
000066r 1  20 43 6F 75  
00006Er 1  65 74 75 72  	.byte	$65,$74,$75,$72,$6E,$65,$64,$20,$25,$64,$20,$62,$79,$74,$65,$73
000072r 1  6E 65 64 20  
000076r 1  25 64 20 62  
00007Er 1  20 61 6E 64  	.byte	$20,$61,$6E,$64,$20,$25,$64,$20,$65,$6C,$65,$6D,$65,$6E,$74,$73
000082r 1  20 25 64 20  
000086r 1  65 6C 65 6D  
00008Er 1  2C 20 45 72  	.byte	$2C,$20,$45,$72,$72,$6F,$72,$20,$6E,$75,$6D,$62,$65,$72,$20,$25
000092r 1  72 6F 72 20  
000096r 1  6E 75 6D 62  
00009Er 1  64 0A 44 61  	.byte	$64,$0A,$44,$61,$74,$61,$20,$66,$72,$65,$61,$64,$3A,$0A,$00
0000A2r 1  74 61 20 66  
0000A6r 1  72 65 61 64  
0000ADr 1               S0013:
0000ADr 1  42 65 67 69  	.byte	$42,$65,$67,$69,$6E,$69,$6E,$67,$20,$74,$65,$73,$74,$20,$6F,$66
0000B1r 1  6E 69 6E 67  
0000B5r 1  20 74 65 73  
0000BDr 1  20 66 72 65  	.byte	$20,$66,$72,$65,$61,$64,$2F,$66,$63,$6C,$6F,$73,$65,$2F,$66,$6F
0000C1r 1  61 64 2F 66  
0000C5r 1  63 6C 6F 73  
0000CDr 1  70 65 6E 20  	.byte	$70,$65,$6E,$20,$6F,$66,$20,$25,$73,$20,$72,$65,$74,$75,$72,$6E
0000D1r 1  6F 66 20 25  
0000D5r 1  73 20 72 65  
0000DDr 1  65 64 20 25  	.byte	$65,$64,$20,$25,$64,$2C,$20,$45,$72,$72,$6F,$72,$20,$6E,$75,$6D
0000E1r 1  64 2C 20 45  
0000E5r 1  72 72 6F 72  
0000EDr 1  62 65 72 20  	.byte	$62,$65,$72,$20,$25,$64,$0A,$00
0000F1r 1  25 64 0A 00  
0000F5r 1               S002F:
0000F5r 1  0A 3D 3D 3D  	.byte	$0A,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D
0000F9r 1  3D 3D 3D 3D  
0000FDr 1  3D 3D 3D 3D  
000105r 1  3D 3D 3D 3D  	.byte	$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D
000109r 1  3D 3D 3D 3D  
00010Dr 1  3D 3D 3D 3D  
000115r 1  3D 3D 3D 3D  	.byte	$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D
000119r 1  3D 3D 3D 3D  
00011Dr 1  3D 3D 3D 3D  
000125r 1  3D 3D 3D 3D  	.byte	$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$3D,$0A
000129r 1  3D 3D 3D 3D  
00012Dr 1  3D 3D 3D 3D  
000135r 1  00           	.byte	$00
000136r 1               S000E:
000136r 1  0A 52 65 61  	.byte	$0A,$52,$65,$61,$64,$20,$25,$64,$20,$62,$79,$74,$65,$73,$20,$66
00013Ar 1  64 20 25 64  
00013Er 1  20 62 79 74  
000146r 1  72 6F 6D 20  	.byte	$72,$6F,$6D,$20,$25,$73,$20,$44,$61,$74,$61,$3A,$0A,$2D,$2D,$2D
00014Ar 1  25 73 20 44  
00014Er 1  61 74 61 3A  
000156r 1  2D 2D 2D 2D  	.byte	$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D
00015Ar 1  2D 2D 2D 2D  
00015Er 1  2D 2D 2D 2D  
000166r 1  2D 2D 2D 2D  	.byte	$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$2D,$0A,$00
00016Ar 1  2D 2D 2D 2D  
00016Er 1  2D 2D 2D 2D  
000176r 1               S001A:
000176r 1  41 66 74 65  	.byte	$41,$66,$74,$65,$72,$20,$43,$6F,$70,$79,$20,$66,$6F,$70,$65,$6E
00017Ar 1  72 20 43 6F  
00017Er 1  70 79 20 66  
000186r 1  20 25 73 20  	.byte	$20,$25,$73,$20,$72,$65,$74,$75,$72,$6E,$65,$64,$20,$25,$64,$2C
00018Ar 1  72 65 74 75  
00018Er 1  72 6E 65 64  
000196r 1  20 45 72 72  	.byte	$20,$45,$72,$72,$6F,$72,$20,$6E,$75,$6D,$62,$65,$72,$20,$25,$64
00019Ar 1  6F 72 20 6E  
00019Er 1  75 6D 62 65  
0001A6r 1  0A 44 6F 69  	.byte	$0A,$44,$6F,$69,$6E,$67,$20,$66,$73,$63,$61,$6E,$66,$0A,$00
0001AAr 1  6E 67 20 66  
0001AEr 1  73 63 61 6E  
0001B5r 1               S000C:
0001B5r 1  54 65 73 74  	.byte	$54,$65,$73,$74,$20,$72,$65,$61,$64,$69,$6E,$67,$20,$61,$20,$66
0001B9r 1  20 72 65 61  
0001BDr 1  64 69 6E 67  
0001C5r 1  69 6C 65 20  	.byte	$69,$6C,$65,$20,$0A,$20,$4F,$70,$65,$6E,$20,$25,$73,$20,$72,$65
0001C9r 1  0A 20 4F 70  
0001CDr 1  65 6E 20 25  
0001D5r 1  74 75 72 6E  	.byte	$74,$75,$72,$6E,$65,$64,$20,$25,$64,$2C,$20,$45,$72,$72,$6F,$72
0001D9r 1  65 64 20 25  
0001DDr 1  64 2C 20 45  
0001E5r 1  20 6E 75 6D  	.byte	$20,$6E,$75,$6D,$62,$65,$72,$20,$25,$64,$0A,$00
0001E9r 1  62 65 72 20  
0001EDr 1  25 64 0A 00  
0001F1r 1               S0028:
0001F1r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$66,$63,$6C,$6F,$73,$65,$20,$73,$6F,$75,$72
0001F5r 1  20 66 63 6C  
0001F9r 1  6F 73 65 20  
000201r 1  63 65 20 66  	.byte	$63,$65,$20,$66,$69,$6C,$65,$20,$25,$73,$20,$72,$65,$74,$75,$72
000205r 1  69 6C 65 20  
000209r 1  25 73 20 72  
000211r 1  6E 65 64 20  	.byte	$6E,$65,$64,$20,$25,$64,$2C,$20,$45,$72,$72,$6F,$72,$20,$6E,$75
000215r 1  25 64 2C 20  
000219r 1  45 72 72 6F  
000221r 1  6D 62 65 72  	.byte	$6D,$62,$65,$72,$20,$25,$64,$0A,$00
000225r 1  20 25 64 0A  
000229r 1  00           
00022Ar 1               S001B:
00022Ar 1  66 67 65 74  	.byte	$66,$67,$65,$74,$73,$28,$29,$20,$6F,$66,$20,$63,$72,$65,$61,$74
00022Er 1  73 28 29 20  
000232r 1  6F 66 20 63  
00023Ar 1  65 64 20 66  	.byte	$65,$64,$20,$66,$69,$6C,$65,$20,$25,$73,$20,$52,$65,$61,$64,$20
00023Er 1  69 6C 65 20  
000242r 1  25 73 20 52  
00024Ar 1  72 65 74 75  	.byte	$72,$65,$74,$75,$72,$6E,$65,$64,$20,$70,$6F,$69,$6E,$74,$65,$72
00024Er 1  72 6E 65 64  
000252r 1  20 70 6F 69  
00025Ar 1  20 20 25 64  	.byte	$20,$20,$25,$64,$20,$3A,$0A,$00
00025Er 1  20 3A 0A 00  
000262r 1               S001E:
000262r 1  66 63 6C 6F  	.byte	$66,$63,$6C,$6F,$73,$65,$20,$63,$72,$65,$61,$74,$65,$64,$20,$25
000266r 1  73 65 20 63  
00026Ar 1  72 65 61 74  
000272r 1  73 20 66 69  	.byte	$73,$20,$66,$69,$6C,$65,$20,$72,$65,$74,$75,$72,$6E,$65,$64,$20
000276r 1  6C 65 20 72  
00027Ar 1  65 74 75 72  
000282r 1  25 64 2C 20  	.byte	$25,$64,$2C,$20,$45,$72,$72,$6F,$72,$20,$6E,$75,$6D,$62,$65,$72
000286r 1  45 72 72 6F  
00028Ar 1  72 20 6E 75  
000292r 1  20 25 64 0A  	.byte	$20,$25,$64,$0A,$00
000296r 1  00           
000297r 1               S0024:
000297r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$55,$6E,$61,$62,$6C,$65,$20,$74,$6F,$20,$6F
00029Br 1  20 55 6E 61  
00029Fr 1  62 6C 65 20  
0002A7r 1  70 65 6E 20  	.byte	$70,$65,$6E,$20,$73,$6F,$75,$72,$63,$65,$20,$66,$69,$6C,$65,$20
0002ABr 1  73 6F 75 72  
0002AFr 1  63 65 20 66  
0002B7r 1  25 73 20 65  	.byte	$25,$73,$20,$65,$72,$72,$6F,$72,$20,$6E,$75,$6D,$62,$65,$72,$20
0002BBr 1  72 72 6F 72  
0002BFr 1  20 6E 75 6D  
0002C7r 1  25 64 0A 00  	.byte	$25,$64,$0A,$00
0002CBr 1               S0018:
0002CBr 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$63,$6F,$6D,$70,$6C,$65,$74,$65,$64,$20,$63
0002CFr 1  20 63 6F 6D  
0002D3r 1  70 6C 65 74  
0002DBr 1  6F 72 72 65  	.byte	$6F,$72,$72,$65,$63,$74,$6C,$79,$2C,$20,$72,$65,$61,$64,$69,$6E
0002DFr 1  63 74 6C 79  
0002E3r 1  2C 20 72 65  
0002EBr 1  67 20 25 73  	.byte	$67,$20,$25,$73,$20,$74,$6F,$20,$63,$6F,$6D,$66,$69,$72,$6D,$0A
0002EFr 1  20 74 6F 20  
0002F3r 1  63 6F 6D 66  
0002FBr 1  00           	.byte	$00
0002FCr 1               S0026:
0002FCr 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$66,$72,$65,$61,$64,$20,$72,$65,$74,$75,$72
000300r 1  20 66 72 65  
000304r 1  61 64 20 72  
00030Cr 1  6E 65 64 20  	.byte	$6E,$65,$64,$20,$25,$64,$20,$65,$6C,$65,$6D,$65,$6E,$74,$73,$20
000310r 1  25 64 20 65  
000314r 1  6C 65 6D 65  
00031Cr 1  72 65 61 64  	.byte	$72,$65,$61,$64,$2C,$20,$25,$64,$20,$62,$79,$74,$65,$73,$0A,$00
000320r 1  2C 20 25 64  
000324r 1  20 62 79 74  
00032Cr 1               S002A:
00032Cr 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$66,$6F,$70,$65,$6E,$20,$25,$73,$20,$72,$65
000330r 1  20 66 6F 70  
000334r 1  65 6E 20 25  
00033Cr 1  74 75 72 6E  	.byte	$74,$75,$72,$6E,$65,$64,$20,$25,$64,$2C,$20,$45,$72,$72,$6F,$72
000340r 1  65 64 20 25  
000344r 1  64 2C 20 45  
00034Cr 1  20 6E 75 6D  	.byte	$20,$6E,$75,$6D,$62,$65,$72,$20,$25,$64,$0A,$00
000350r 1  62 65 72 20  
000354r 1  25 64 0A 00  
000358r 1               S0011:
000358r 1  43 6C 6F 73  	.byte	$43,$6C,$6F,$73,$69,$6E,$67,$20,$25,$73,$20,$72,$65,$74,$75,$72
00035Cr 1  69 6E 67 20  
000360r 1  25 73 20 72  
000368r 1  6E 65 64 20  	.byte	$6E,$65,$64,$20,$25,$64,$2C,$20,$45,$72,$72,$6F,$72,$20,$6E,$75
00036Cr 1  25 64 2C 20  
000370r 1  45 72 72 6F  
000378r 1  6D 62 65 72  	.byte	$6D,$62,$65,$72,$20,$25,$64,$0A,$00
00037Cr 1  20 25 64 0A  
000380r 1  00           
000381r 1               S0016:
000381r 1  0A 66 63 6C  	.byte	$0A,$66,$63,$6C,$6F,$73,$65,$20,$25,$73,$20,$72,$65,$74,$75,$72
000385r 1  6F 73 65 20  
000389r 1  25 73 20 72  
000391r 1  6E 65 64 20  	.byte	$6E,$65,$64,$20,$25,$64,$2C,$20,$45,$72,$72,$6F,$72,$20,$6E,$75
000395r 1  25 64 2C 20  
000399r 1  45 72 72 6F  
0003A1r 1  6D 62 65 72  	.byte	$6D,$62,$65,$72,$20,$25,$64,$0A,$00
0003A5r 1  20 25 64 0A  
0003A9r 1  00           
0003AAr 1               S002C:
0003AAr 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$77,$72,$6F,$74,$65,$20,$25,$64,$20,$62,$79
0003AEr 1  20 77 72 6F  
0003B2r 1  74 65 20 25  
0003BAr 1  74 65 73 20  	.byte	$74,$65,$73,$20,$74,$6F,$20,$64,$65,$73,$74,$69,$6E,$61,$74,$69
0003BEr 1  74 6F 20 64  
0003C2r 1  65 73 74 69  
0003CAr 1  6F 6E 20 25  	.byte	$6F,$6E,$20,$25,$73,$0A,$00
0003CEr 1  73 0A 00     
0003D1r 1               S002B:
0003D1r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$77,$72,$69,$74,$69,$6E,$67,$20,$74,$6F,$20
0003D5r 1  20 77 72 69  
0003D9r 1  74 69 6E 67  
0003E1r 1  25 73 20 77  	.byte	$25,$73,$20,$77,$72,$69,$74,$69,$6E,$67,$20,$20,$25,$64,$20,$62
0003E5r 1  72 69 74 69  
0003E9r 1  6E 67 20 20  
0003F1r 1  79 74 65 73  	.byte	$79,$74,$65,$73,$0A,$00
0003F5r 1  0A 00        
0003F7r 1               S0022:
0003F7r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$6D,$65,$6D,$6F,$72,$79,$20,$61,$6C,$6C,$6F
0003FBr 1  20 6D 65 6D  
0003FFr 1  6F 72 79 20  
000407r 1  63 61 74 69  	.byte	$63,$61,$74,$69,$6F,$6E,$20,$61,$64,$64,$72,$65,$73,$73,$20,$3D
00040Br 1  6F 6E 20 61  
00040Fr 1  64 64 72 65  
000417r 1  20 25 64 0A  	.byte	$20,$25,$64,$0A,$00
00041Br 1  00           
00041Cr 1               S001C:
00041Cr 1  44 61 74 61  	.byte	$44,$61,$74,$61,$20,$52,$65,$61,$64,$20,$66,$72,$6F,$6D,$20,$25
000420r 1  20 52 65 61  
000424r 1  64 20 66 72  
00042Cr 1  73 3A 0A 25  	.byte	$73,$3A,$0A,$25,$73,$0A,$45,$6E,$64,$20,$6F,$66,$20,$70,$72,$69
000430r 1  73 0A 45 6E  
000434r 1  64 20 6F 66  
00043Cr 1  6E 74 0A 00  	.byte	$6E,$74,$0A,$00
000440r 1               S000B:
000440r 1  42 65 67 69  	.byte	$42,$65,$67,$69,$6E,$20,$6F,$70,$65,$6E,$20,$63,$6C,$6F,$73,$65
000444r 1  6E 20 6F 70  
000448r 1  65 6E 20 63  
000450r 1  20 72 65 61  	.byte	$20,$72,$65,$61,$64,$20,$77,$72,$69,$74,$65,$20,$74,$65,$73,$74
000454r 1  64 20 77 72  
000458r 1  69 74 65 20  
000460r 1  73 0A 00     	.byte	$73,$0A,$00
000463r 1               S000D:
000463r 1  42 65 67 69  	.byte	$42,$65,$67,$69,$6E,$20,$52,$65,$61,$64,$69,$6E,$67,$20,$74,$65
000467r 1  6E 20 52 65  
00046Br 1  61 64 69 6E  
000473r 1  73 74 20 66  	.byte	$73,$74,$20,$66,$72,$6F,$6D,$20,$25,$73,$20,$44,$61,$74,$61,$3A
000477r 1  72 6F 6D 20  
00047Br 1  25 73 20 44  
000483r 1  20 0A 00     	.byte	$20,$0A,$00
000486r 1               S0027:
000486r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$52,$65,$61,$64,$20,$25,$64,$20,$62,$79,$74
00048Ar 1  20 52 65 61  
00048Er 1  64 20 25 64  
000496r 1  65 73 20 66  	.byte	$65,$73,$20,$66,$72,$6F,$6D,$20,$66,$69,$6C,$65,$20,$25,$73,$0A
00049Ar 1  72 6F 6D 20  
00049Er 1  66 69 6C 65  
0004A6r 1  00           	.byte	$00
0004A7r 1               S001D:
0004A7r 1  46 69 6C 65  	.byte	$46,$69,$6C,$65,$20,$25,$73,$20,$52,$65,$61,$64,$20,$61,$66,$74
0004ABr 1  20 25 73 20  
0004AFr 1  52 65 61 64  
0004B7r 1  65 72 20 63  	.byte	$65,$72,$20,$63,$6F,$70,$79,$20,$66,$61,$69,$6C,$65,$64,$0A,$00
0004BBr 1  6F 70 79 20  
0004BFr 1  66 61 69 6C  
0004C7r 1               S000A:
0004C7r 1  54 68 65 20  	.byte	$54,$68,$65,$20,$6C,$6F,$6E,$67,$20,$69,$6E,$74,$65,$67,$65,$72
0004CBr 1  6C 6F 6E 67  
0004CFr 1  20 69 6E 74  
0004D7r 1  20 6E 75 6D  	.byte	$20,$6E,$75,$6D,$62,$65,$72,$20,$69,$73,$20,$25,$6C,$64,$0A,$00
0004DBr 1  62 65 72 20  
0004DFr 1  69 73 20 25  
0004E7r 1               S0021:
0004E7r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$4D,$65,$6D,$6F,$72,$79,$20,$61,$6C,$6C,$6F
0004EBr 1  20 4D 65 6D  
0004EFr 1  6F 72 79 20  
0004F7r 1  63 61 74 69  	.byte	$63,$61,$74,$69,$6F,$6E,$20,$66,$61,$69,$6C,$65,$64,$0A,$00
0004FBr 1  6F 6E 20 66  
0004FFr 1  61 69 6C 65  
000506r 1               S0004:
000506r 1  0A 20 44 79  	.byte	$0A,$20,$44,$79,$6E,$61,$6D,$69,$63,$20,$68,$65,$6C,$6C,$6F,$20
00050Ar 1  6E 61 6D 69  
00050Er 1  63 20 68 65  
000516r 1  77 6F 72 6C  	.byte	$77,$6F,$72,$6C,$64,$20,$25,$73,$20,$2D,$20,$25,$64,$0A,$00
00051Ar 1  64 20 25 73  
00051Er 1  20 2D 20 25  
000525r 1               S002E:
000525r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$63,$6F,$6D,$70,$6C,$65,$74,$65,$64,$20,$66
000529r 1  20 63 6F 6D  
00052Dr 1  70 6C 65 74  
000535r 1  72 6F 6D 20  	.byte	$72,$6F,$6D,$20,$25,$73,$20,$74,$6F,$20,$25,$73,$0A,$00
000539r 1  25 73 20 74  
00053Dr 1  6F 20 25 73  
000543r 1               S0020:
000543r 1  0A 43 6F 70  	.byte	$0A,$43,$6F,$70,$79,$20,$66,$69,$6C,$65,$20,$66,$75,$6E,$63,$74
000547r 1  79 20 66 69  
00054Br 1  6C 65 20 66  
000553r 1  69 6F 6E 20  	.byte	$69,$6F,$6E,$20,$63,$61,$6C,$6C,$65,$64,$0A,$00
000557r 1  63 61 6C 6C  
00055Br 1  65 64 0A 00  
00055Fr 1               S0010:
00055Fr 1  52 65 61 64  	.byte	$52,$65,$61,$64,$20,$54,$65,$73,$74,$20,$43,$6F,$6D,$70,$6C,$65
000563r 1  20 54 65 73  
000567r 1  74 20 43 6F  
00056Fr 1  74 65 20 66  	.byte	$74,$65,$20,$66,$6F,$72,$20,$25,$73,$0A,$00
000573r 1  6F 72 20 25  
000577r 1  73 0A 00     
00057Ar 1               S0006:
00057Ar 1  42 65 67 69  	.byte	$42,$65,$67,$69,$6E,$20,$4C,$6F,$6F,$70,$20,$74,$65,$73,$74,$20
00057Er 1  6E 20 4C 6F  
000582r 1  6F 70 20 74  
00058Ar 1  35 30 30 2C  	.byte	$35,$30,$30,$2C,$30,$30,$30,$00
00058Er 1  30 30 30 00  
000592r 1               S0005:
000592r 1  0A 20 53 74  	.byte	$0A,$20,$53,$74,$61,$74,$69,$63,$20,$48,$65,$6C,$6C,$6F,$20,$57
000596r 1  61 74 69 63  
00059Ar 1  20 48 65 6C  
0005A2r 1  6F 72 6C 64  	.byte	$6F,$72,$6C,$64,$0A,$00
0005A6r 1  0A 00        
0005A8r 1               S0009:
0005A8r 1  43 6F 6D 70  	.byte	$43,$6F,$6D,$70,$6C,$65,$74,$65,$64,$20,$70,$75,$74,$63,$68,$20
0005ACr 1  6C 65 74 65  
0005B0r 1  64 20 70 75  
0005B8r 1  74 65 73 74  	.byte	$74,$65,$73,$74,$0A,$00
0005BCr 1  0A 00        
0005BEr 1               S0008:
0005BEr 1  54 72 79 20  	.byte	$54,$72,$79,$20,$74,$6F,$20,$70,$75,$74,$63,$68,$61,$72,$28,$27
0005C2r 1  74 6F 20 70  
0005C6r 1  75 74 63 68  
0005CEr 1  61 27 29 0A  	.byte	$61,$27,$29,$0A,$00
0005D2r 1  00           
0005D3r 1               S002D:
0005D3r 1  43 6F 70 79  	.byte	$43,$6F,$70,$79,$20,$66,$61,$69,$6C,$65,$64,$20,$74,$6F,$20,$25
0005D7r 1  20 66 61 69  
0005DBr 1  6C 65 64 20  
0005E3r 1  73 0A 00     	.byte	$73,$0A,$00
0005E6r 1               S001F:
0005E6r 1  41 6C 6C 20  	.byte	$41,$6C,$6C,$20,$74,$65,$73,$74,$73,$20,$63,$6F,$6D,$70,$6C,$65
0005EAr 1  74 65 73 74  
0005EEr 1  73 20 63 6F  
0005F6r 1  74 65 00     	.byte	$74,$65,$00
0005F9r 1               S0017:
0005F9r 1  42 65 67 69  	.byte	$42,$65,$67,$69,$6E,$20,$43,$6F,$70,$79,$20,$74,$65,$73,$74,$0A
0005FDr 1  6E 20 43 6F  
000601r 1  70 79 20 74  
000609r 1  00           	.byte	$00
00060Ar 1               S0003:
00060Ar 1  74 68 69 73  	.byte	$74,$68,$69,$73,$20,$69,$73,$20,$61,$20,$73,$74,$72,$69,$6E,$67
00060Er 1  20 69 73 20  
000612r 1  61 20 73 74  
00061Ar 1  00           	.byte	$00
00061Br 1               S0007:
00061Br 1  45 6E 64 20  	.byte	$45,$6E,$64,$20,$6C,$6F,$6F,$70,$20,$74,$65,$73,$74,$0A,$00
00061Fr 1  6C 6F 6F 70  
000623r 1  20 74 65 73  
00062Ar 1               S0001:
00062Ar 1  73 6F 75 72  	.byte	$73,$6F,$75,$72,$63,$65,$2E,$74,$78,$74,$00
00062Er 1  63 65 2E 74  
000632r 1  78 74 00     
000635r 1               S0002:
000635r 1  61 63 6F 70  	.byte	$61,$63,$6F,$70,$79,$2E,$74,$78,$74,$00
000639r 1  79 2E 74 78  
00063Dr 1  74 00        
00063Fr 1               S000F	:=	S002C+35
00063Fr 1               S0015	:=	S002C+35
00063Fr 1               S0029:
00063Fr 1  77 00        	.byte	$77,$00
000641r 1               S0023:
000641r 1  72 00        	.byte	$72,$00
000643r 1               S0019	:=	S0023+0
000643r 1               S0012	:=	S0023+0
000643r 1               
000643r 1               ; ---------------------------------------------------------------
000643r 1               ; int __near__ copy (char *source, char *dest)
000643r 1               ; ---------------------------------------------------------------
000643r 1               
000643r 1               .segment	"CODE"
000000r 1               
000000r 1               .proc	_copy: near
000000r 1               
000000r 1               	.dbg	func, "copy", "00", extern, "_copy"
000000r 1               	.dbg	sym, "source", "00", auto, 2
000000r 1               	.dbg	sym, "dest", "00", auto, 0
000000r 1               	.dbg	sym, "buffer", "00", auto, -2
000000r 1               	.dbg	sym, "index", "00", auto, -4
000000r 1               	.dbg	sym, "i", "00", auto, -6
000000r 1               	.dbg	sym, "myfile", "00", auto, -8
000000r 1               
000000r 1               .segment	"CODE"
000000r 1               
000000r 1               ;
000000r 1               ; int copy(char *source, char *dest) {
000000r 1               ;
000000r 1               	.dbg	line, "hello.c", 121
000000r 1  20 rr rr     	jsr     pushax
000003r 1               ;
000003r 1               ; int index = 0, i = 1;
000003r 1               ;
000003r 1               	.dbg	line, "hello.c", 123
000003r 1  20 rr rr     	jsr     decsp2
000006r 1  20 rr rr     	jsr     push0
000009r 1  A9 01        	lda     #$01
00000Br 1  20 rr rr     	jsr     pusha0
00000Er 1               ;
00000Er 1               ; seperator();
00000Er 1               ;
00000Er 1               	.dbg	line, "hello.c", 125
00000Er 1  20 rr rr     	jsr     decsp2
000011r 1  20 rr rr     	jsr     _seperator
000014r 1               ;
000014r 1               ; printf("\nCopy file function called\n");
000014r 1               ;
000014r 1               	.dbg	line, "hello.c", 126
000014r 1  A9 rr        	lda     #<(S0020)
000016r 1  A2 rr        	ldx     #>(S0020)
000018r 1  20 rr rr     	jsr     pushax
00001Br 1  A0 02        	ldy     #$02
00001Dr 1  20 rr rr     	jsr     _printf
000020r 1               ;
000020r 1               ; buffer = malloc(bufferlen);
000020r 1               ;
000020r 1               	.dbg	line, "hello.c", 127
000020r 1  A2 03        	ldx     #$03
000022r 1  A9 FC        	lda     #$FC
000024r 1  20 rr rr     	jsr     _malloc
000027r 1  A0 06        	ldy     #$06
000029r 1  20 rr rr     	jsr     staxysp
00002Cr 1               ;
00002Cr 1               ; if (buffer == NULL) {
00002Cr 1               ;
00002Cr 1               	.dbg	line, "hello.c", 129
00002Cr 1  E0 00        	cpx     #$00
00002Er 1  D0 15        	bne     L0002
000030r 1  C9 00        	cmp     #$00
000032r 1  D0 11        	bne     L0002
000034r 1               ;
000034r 1               ; printf("Copy Memory allocation failed\n");
000034r 1               ;
000034r 1               	.dbg	line, "hello.c", 130
000034r 1  A9 rr        	lda     #<(S0021)
000036r 1  A2 rr        	ldx     #>(S0021)
000038r 1  20 rr rr     	jsr     pushax
00003Br 1  A0 02        	ldy     #$02
00003Dr 1  20 rr rr     	jsr     _printf
000040r 1               ;
000040r 1               ; return -1;
000040r 1               ;
000040r 1               	.dbg	line, "hello.c", 131
000040r 1  A2 FF        	ldx     #$FF
000042r 1  4C rr rr     	jmp     L0018
000045r 1               ;
000045r 1               ; printf("Copy memory allocation address = %d\n",buffer);
000045r 1               ;
000045r 1               	.dbg	line, "hello.c", 133
000045r 1  A9 rr        L0002:	lda     #<(S0022)
000047r 1  A2 rr        	ldx     #>(S0022)
000049r 1  20 rr rr     	jsr     pushax
00004Cr 1  A0 0B        	ldy     #$0B
00004Er 1  20 rr rr     	jsr     pushwysp
000051r 1  A0 04        	ldy     #$04
000053r 1  20 rr rr     	jsr     _printf
000056r 1               ;
000056r 1               ; myfile = fopen(source,"r");
000056r 1               ;
000056r 1               	.dbg	line, "hello.c", 137
000056r 1  A0 0D        	ldy     #$0D
000058r 1  20 rr rr     	jsr     pushwysp
00005Br 1  A9 rr        	lda     #<(S0023)
00005Dr 1  A2 rr        	ldx     #>(S0023)
00005Fr 1  20 rr rr     	jsr     _fopen
000062r 1  20 rr rr     	jsr     stax0sp
000065r 1               ;
000065r 1               ; if (myfile == NULL) {
000065r 1               ;
000065r 1               	.dbg	line, "hello.c", 138
000065r 1  E0 00        	cpx     #$00
000067r 1  D0 23        	bne     L0005
000069r 1  C9 00        	cmp     #$00
00006Br 1  D0 1F        	bne     L0005
00006Dr 1               ;
00006Dr 1               ; printf("Copy Unable to open source file %s error number %d\n",source,errno);
00006Dr 1               ;
00006Dr 1               	.dbg	line, "hello.c", 139
00006Dr 1  A9 rr        	lda     #<(S0024)
00006Fr 1  A2 rr        	ldx     #>(S0024)
000071r 1  20 rr rr     	jsr     pushax
000074r 1  A0 0F        	ldy     #$0F
000076r 1  20 rr rr     	jsr     pushwysp
000079r 1  AD rr rr     	lda     ___errno
00007Cr 1  AE rr rr     	ldx     ___errno+1
00007Fr 1  20 rr rr     	jsr     pushax
000082r 1  A0 06        	ldy     #$06
000084r 1  20 rr rr     	jsr     _printf
000087r 1               ;
000087r 1               ; return -1;
000087r 1               ;
000087r 1               	.dbg	line, "hello.c", 140
000087r 1  A2 FF        	ldx     #$FF
000089r 1  4C rr rr     	jmp     L0018
00008Cr 1               ;
00008Cr 1               ; printf("Copy fopen source %s returned %d, Error number %d\nUsing fread to read each line\n============\n",source,myfile,errno);
00008Cr 1               ;
00008Cr 1               	.dbg	line, "hello.c", 143
00008Cr 1  A9 rr        L0005:	lda     #<(S0025)
00008Er 1  A2 rr        	ldx     #>(S0025)
000090r 1  20 rr rr     	jsr     pushax
000093r 1  A0 0F        	ldy     #$0F
000095r 1  20 rr rr     	jsr     pushwysp
000098r 1  A0 07        	ldy     #$07
00009Ar 1  20 rr rr     	jsr     pushwysp
00009Dr 1  AD rr rr     	lda     ___errno
0000A0r 1  AE rr rr     	ldx     ___errno+1
0000A3r 1  20 rr rr     	jsr     pushax
0000A6r 1  A0 08        	ldy     #$08
0000A8r 1  20 rr rr     	jsr     _printf
0000ABr 1               ;
0000ABr 1               ; buffer[0] = 0;
0000ABr 1               ;
0000ABr 1               	.dbg	line, "hello.c", 144
0000ABr 1  A0 07        	ldy     #$07
0000ADr 1  B1 rr        	lda     (sp),y
0000AFr 1  85 rr        	sta     ptr1+1
0000B1r 1  88           	dey
0000B2r 1  B1 rr        	lda     (sp),y
0000B4r 1  85 rr        	sta     ptr1
0000B6r 1  A9 00        	lda     #$00
0000B8r 1  92 rr        	sta     (ptr1)
0000BAr 1               ;
0000BAr 1               ; while(i > 0 && i < blockcount-1 ) {
0000BAr 1               ;
0000BAr 1               	.dbg	line, "hello.c", 146
0000BAr 1  80 71        	bra     L000F
0000BCr 1               ;
0000BCr 1               ; i = fread(buffer+index,blocklen,blockcount-1,myfile);
0000BCr 1               ;
0000BCr 1               	.dbg	line, "hello.c", 147
0000BCr 1  20 rr rr     L0007:	jsr     decsp6
0000BFr 1  A0 0C        	ldy     #$0C
0000C1r 1  B1 rr        	lda     (sp),y
0000C3r 1  A0 0A        	ldy     #$0A
0000C5r 1  18           	clc
0000C6r 1  71 rr        	adc     (sp),y
0000C8r 1  48           	pha
0000C9r 1  A0 0D        	ldy     #$0D
0000CBr 1  B1 rr        	lda     (sp),y
0000CDr 1  A0 0B        	ldy     #$0B
0000CFr 1  71 rr        	adc     (sp),y
0000D1r 1  AA           	tax
0000D2r 1  68           	pla
0000D3r 1  A0 04        	ldy     #$04
0000D5r 1  91 rr        	sta     (sp),y
0000D7r 1  C8           	iny
0000D8r 1  8A           	txa
0000D9r 1  91 rr        	sta     (sp),y
0000DBr 1  A9 01        	lda     #$01
0000DDr 1  A0 02        	ldy     #$02
0000DFr 1  91 rr        	sta     (sp),y
0000E1r 1  C8           	iny
0000E2r 1  3A           	dea
0000E3r 1  91 rr        	sta     (sp),y
0000E5r 1  A9 FA        	lda     #$FA
0000E7r 1  92 rr        	sta     (sp)
0000E9r 1  A0 01        	ldy     #$01
0000EBr 1  A9 03        	lda     #$03
0000EDr 1  91 rr        	sta     (sp),y
0000EFr 1  A0 07        	ldy     #$07
0000F1r 1  B1 rr        	lda     (sp),y
0000F3r 1  AA           	tax
0000F4r 1  88           	dey
0000F5r 1  B1 rr        	lda     (sp),y
0000F7r 1  20 rr rr     	jsr     _fread
0000FAr 1  A0 02        	ldy     #$02
0000FCr 1  20 rr rr     	jsr     staxysp
0000FFr 1               ;
0000FFr 1               ; if(i>0) {
0000FFr 1               ;
0000FFr 1               	.dbg	line, "hello.c", 148
0000FFr 1  C9 01        	cmp     #$01
000101r 1  8A           	txa
000102r 1  E9 00        	sbc     #$00
000104r 1  70 02        	bvs     L0010
000106r 1  49 80        	eor     #$80
000108r 1  10 23        L0010:	bpl     L000F
00010Ar 1               ;
00010Ar 1               ; index = blocklen*i;
00010Ar 1               ;
00010Ar 1               	.dbg	line, "hello.c", 149
00010Ar 1  A0 03        	ldy     #$03
00010Cr 1  B1 rr        	lda     (sp),y
00010Er 1  AA           	tax
00010Fr 1  88           	dey
000110r 1  B1 rr        	lda     (sp),y
000112r 1  A0 04        	ldy     #$04
000114r 1  20 rr rr     	jsr     staxysp
000117r 1               ;
000117r 1               ; printf("Copy fread returned %d elements read, %d bytes\n",i,index);
000117r 1               ;
000117r 1               	.dbg	line, "hello.c", 150
000117r 1  A9 rr        	lda     #<(S0026)
000119r 1  A2 rr        	ldx     #>(S0026)
00011Br 1  20 rr rr     	jsr     pushax
00011Er 1  A0 07        	ldy     #$07
000120r 1  20 rr rr     	jsr     pushwysp
000123r 1  A0 0B        	ldy     #$0B
000125r 1  20 rr rr     	jsr     pushwysp
000128r 1  A0 06        	ldy     #$06
00012Ar 1  20 rr rr     	jsr     _printf
00012Dr 1               ;
00012Dr 1               ; while(i > 0 && i < blockcount-1 ) {
00012Dr 1               ;
00012Dr 1               	.dbg	line, "hello.c", 146
00012Dr 1  A0 03        L000F:	ldy     #$03
00012Fr 1  B1 rr        	lda     (sp),y
000131r 1  AA           	tax
000132r 1  88           	dey
000133r 1  B1 rr        	lda     (sp),y
000135r 1  C9 01        	cmp     #$01
000137r 1  8A           	txa
000138r 1  E9 00        	sbc     #$00
00013Ar 1  70 02        	bvs     L000A
00013Cr 1  49 80        	eor     #$80
00013Er 1  10 15        L000A:	bpl     L0014
000140r 1  C8           	iny
000141r 1  B1 rr        	lda     (sp),y
000143r 1  AA           	tax
000144r 1  88           	dey
000145r 1  B1 rr        	lda     (sp),y
000147r 1  C9 FA        	cmp     #$FA
000149r 1  8A           	txa
00014Ar 1  E9 03        	sbc     #$03
00014Cr 1  50 02        	bvc     L000C
00014Er 1  49 80        	eor     #$80
000150r 1  10 03 4C rr  L000C:	jmi     L0007
000154r 1  rr           
000155r 1               ;
000155r 1               ; buffer[index] = 0;
000155r 1               ;
000155r 1               	.dbg	line, "hello.c", 154
000155r 1  A0 06        L0014:	ldy     #$06
000157r 1  B1 rr        	lda     (sp),y
000159r 1  A0 04        	ldy     #$04
00015Br 1  18           	clc
00015Cr 1  71 rr        	adc     (sp),y
00015Er 1  85 rr        	sta     ptr1
000160r 1  A0 07        	ldy     #$07
000162r 1  B1 rr        	lda     (sp),y
000164r 1  A0 05        	ldy     #$05
000166r 1  71 rr        	adc     (sp),y
000168r 1  85 rr        	sta     ptr1+1
00016Ar 1  A2 00        	ldx     #$00
00016Cr 1  8A           	txa
00016Dr 1  92 rr        	sta     (ptr1)
00016Fr 1               ;
00016Fr 1               ; seperator();
00016Fr 1               ;
00016Fr 1               	.dbg	line, "hello.c", 155
00016Fr 1  20 rr rr     	jsr     _seperator
000172r 1               ;
000172r 1               ; printf("Copy Read %d bytes from file %s\n",index,source);
000172r 1               ;
000172r 1               	.dbg	line, "hello.c", 156
000172r 1  A9 rr        	lda     #<(S0027)
000174r 1  A2 rr        	ldx     #>(S0027)
000176r 1  20 rr rr     	jsr     pushax
000179r 1  A0 09        	ldy     #$09
00017Br 1  20 rr rr     	jsr     pushwysp
00017Er 1  A0 11        	ldy     #$11
000180r 1  20 rr rr     	jsr     pushwysp
000183r 1  A0 06        	ldy     #$06
000185r 1  20 rr rr     	jsr     _printf
000188r 1               ;
000188r 1               ; i = fclose(myfile);
000188r 1               ;
000188r 1               	.dbg	line, "hello.c", 158
000188r 1  A0 01        	ldy     #$01
00018Ar 1  B1 rr        	lda     (sp),y
00018Cr 1  AA           	tax
00018Dr 1  B2 rr        	lda     (sp)
00018Fr 1  20 rr rr     	jsr     _fclose
000192r 1  A0 02        	ldy     #$02
000194r 1  20 rr rr     	jsr     staxysp
000197r 1               ;
000197r 1               ; printf("Copy fclose source file %s returned %d, Error number %d\n",source ,i,errno);
000197r 1               ;
000197r 1               	.dbg	line, "hello.c", 159
000197r 1  A9 rr        	lda     #<(S0028)
000199r 1  A2 rr        	ldx     #>(S0028)
00019Br 1  20 rr rr     	jsr     pushax
00019Er 1  A0 0F        	ldy     #$0F
0001A0r 1  20 rr rr     	jsr     pushwysp
0001A3r 1  A0 09        	ldy     #$09
0001A5r 1  20 rr rr     	jsr     pushwysp
0001A8r 1  AD rr rr     	lda     ___errno
0001ABr 1  AE rr rr     	ldx     ___errno+1
0001AEr 1  20 rr rr     	jsr     pushax
0001B1r 1  A0 08        	ldy     #$08
0001B3r 1  20 rr rr     	jsr     _printf
0001B6r 1               ;
0001B6r 1               ; seperator();
0001B6r 1               ;
0001B6r 1               	.dbg	line, "hello.c", 160
0001B6r 1  20 rr rr     	jsr     _seperator
0001B9r 1               ;
0001B9r 1               ; myfile = fopen(dest,"w");
0001B9r 1               ;
0001B9r 1               	.dbg	line, "hello.c", 161
0001B9r 1  A0 0B        	ldy     #$0B
0001BBr 1  20 rr rr     	jsr     pushwysp
0001BEr 1  A9 rr        	lda     #<(S0029)
0001C0r 1  A2 rr        	ldx     #>(S0029)
0001C2r 1  20 rr rr     	jsr     _fopen
0001C5r 1  20 rr rr     	jsr     stax0sp
0001C8r 1               ;
0001C8r 1               ; printf("Copy fopen %s returned %d, Error number %d\n",dest,myfile,errno);
0001C8r 1               ;
0001C8r 1               	.dbg	line, "hello.c", 163
0001C8r 1  A9 rr        	lda     #<(S002A)
0001CAr 1  A2 rr        	ldx     #>(S002A)
0001CCr 1  20 rr rr     	jsr     pushax
0001CFr 1  A0 0D        	ldy     #$0D
0001D1r 1  20 rr rr     	jsr     pushwysp
0001D4r 1  A0 07        	ldy     #$07
0001D6r 1  20 rr rr     	jsr     pushwysp
0001D9r 1  AD rr rr     	lda     ___errno
0001DCr 1  AE rr rr     	ldx     ___errno+1
0001DFr 1  20 rr rr     	jsr     pushax
0001E2r 1  A0 08        	ldy     #$08
0001E4r 1  20 rr rr     	jsr     _printf
0001E7r 1               ;
0001E7r 1               ; if (myfile != NULL) {
0001E7r 1               ;
0001E7r 1               	.dbg	line, "hello.c", 165
0001E7r 1  B2 rr        	lda     (sp)
0001E9r 1  A0 01        	ldy     #$01
0001EBr 1  11 rr        	ora     (sp),y
0001EDr 1  F0 74        	beq     L0011
0001EFr 1               ;
0001EFr 1               ; printf("Copy writing to %s writing  %d bytes\n",dest,index);
0001EFr 1               ;
0001EFr 1               	.dbg	line, "hello.c", 166
0001EFr 1  A9 rr        	lda     #<(S002B)
0001F1r 1  A2 rr        	ldx     #>(S002B)
0001F3r 1  20 rr rr     	jsr     pushax
0001F6r 1  A0 0D        	ldy     #$0D
0001F8r 1  20 rr rr     	jsr     pushwysp
0001FBr 1  A0 0B        	ldy     #$0B
0001FDr 1  20 rr rr     	jsr     pushwysp
000200r 1  A0 06        	ldy     #$06
000202r 1  20 rr rr     	jsr     _printf
000205r 1               ;
000205r 1               ; i = fwrite(buffer, 1 ,index , myfile);
000205r 1               ;
000205r 1               	.dbg	line, "hello.c", 167
000205r 1  20 rr rr     	jsr     decsp6
000208r 1  A0 0D        	ldy     #$0D
00020Ar 1  B1 rr        	lda     (sp),y
00020Cr 1  AA           	tax
00020Dr 1  88           	dey
00020Er 1  B1 rr        	lda     (sp),y
000210r 1  A0 04        	ldy     #$04
000212r 1  91 rr        	sta     (sp),y
000214r 1  C8           	iny
000215r 1  8A           	txa
000216r 1  91 rr        	sta     (sp),y
000218r 1  A9 01        	lda     #$01
00021Ar 1  A0 02        	ldy     #$02
00021Cr 1  91 rr        	sta     (sp),y
00021Er 1  C8           	iny
00021Fr 1  3A           	dea
000220r 1  91 rr        	sta     (sp),y
000222r 1  A0 0B        	ldy     #$0B
000224r 1  B1 rr        	lda     (sp),y
000226r 1  AA           	tax
000227r 1  88           	dey
000228r 1  B1 rr        	lda     (sp),y
00022Ar 1  92 rr        	sta     (sp)
00022Cr 1  A0 01        	ldy     #$01
00022Er 1  8A           	txa
00022Fr 1  91 rr        	sta     (sp),y
000231r 1  A0 07        	ldy     #$07
000233r 1  B1 rr        	lda     (sp),y
000235r 1  AA           	tax
000236r 1  88           	dey
000237r 1  B1 rr        	lda     (sp),y
000239r 1  20 rr rr     	jsr     _fwrite
00023Cr 1  A0 02        	ldy     #$02
00023Er 1  20 rr rr     	jsr     staxysp
000241r 1               ;
000241r 1               ; printf("Copy wrote %d bytes to destination %s\n",i,dest);
000241r 1               ;
000241r 1               	.dbg	line, "hello.c", 168
000241r 1  A9 rr        	lda     #<(S002C)
000243r 1  A2 rr        	ldx     #>(S002C)
000245r 1  20 rr rr     	jsr     pushax
000248r 1  A0 07        	ldy     #$07
00024Ar 1  20 rr rr     	jsr     pushwysp
00024Dr 1  A0 0F        	ldy     #$0F
00024Fr 1  20 rr rr     	jsr     pushwysp
000252r 1  A0 06        	ldy     #$06
000254r 1  20 rr rr     	jsr     _printf
000257r 1               ;
000257r 1               ; fclose(myfile);
000257r 1               ;
000257r 1               	.dbg	line, "hello.c", 169
000257r 1  A0 01        	ldy     #$01
000259r 1  B1 rr        	lda     (sp),y
00025Br 1  AA           	tax
00025Cr 1  B2 rr        	lda     (sp)
00025Er 1  20 rr rr     	jsr     _fclose
000261r 1               ;
000261r 1               ; } else {
000261r 1               ;
000261r 1               	.dbg	line, "hello.c", 170
000261r 1  80 23        	bra     L0013
000263r 1               ;
000263r 1               ; seperator();
000263r 1               ;
000263r 1               	.dbg	line, "hello.c", 171
000263r 1  20 rr rr     L0011:	jsr     _seperator
000266r 1               ;
000266r 1               ; printf("Copy failed to %s\n",dest);
000266r 1               ;
000266r 1               	.dbg	line, "hello.c", 172
000266r 1  A9 rr        	lda     #<(S002D)
000268r 1  A2 rr        	ldx     #>(S002D)
00026Ar 1  20 rr rr     	jsr     pushax
00026Dr 1  A0 0D        	ldy     #$0D
00026Fr 1  20 rr rr     	jsr     pushwysp
000272r 1  A0 04        	ldy     #$04
000274r 1  20 rr rr     	jsr     _printf
000277r 1               ;
000277r 1               ; free(buffer);
000277r 1               ;
000277r 1               	.dbg	line, "hello.c", 173
000277r 1  A0 07        	ldy     #$07
000279r 1  B1 rr        	lda     (sp),y
00027Br 1  AA           	tax
00027Cr 1  88           	dey
00027Dr 1  B1 rr        	lda     (sp),y
00027Fr 1  20 rr rr     	jsr     _free
000282r 1               ;
000282r 1               ; return -1;
000282r 1               ;
000282r 1               	.dbg	line, "hello.c", 174
000282r 1  A2 FF        	ldx     #$FF
000284r 1  80 26        	bra     L0018
000286r 1               ;
000286r 1               ; printf("Copy completed from %s to %s\n",source,dest);
000286r 1               ;
000286r 1               	.dbg	line, "hello.c", 177
000286r 1  A9 rr        L0013:	lda     #<(S002E)
000288r 1  A2 rr        	ldx     #>(S002E)
00028Ar 1  20 rr rr     	jsr     pushax
00028Dr 1  A0 0F        	ldy     #$0F
00028Fr 1  20 rr rr     	jsr     pushwysp
000292r 1  A0 0F        	ldy     #$0F
000294r 1  20 rr rr     	jsr     pushwysp
000297r 1  A0 06        	ldy     #$06
000299r 1  20 rr rr     	jsr     _printf
00029Cr 1               ;
00029Cr 1               ; seperator();
00029Cr 1               ;
00029Cr 1               	.dbg	line, "hello.c", 178
00029Cr 1  20 rr rr     	jsr     _seperator
00029Fr 1               ;
00029Fr 1               ; free(buffer);
00029Fr 1               ;
00029Fr 1               	.dbg	line, "hello.c", 179
00029Fr 1  A0 07        	ldy     #$07
0002A1r 1  B1 rr        	lda     (sp),y
0002A3r 1  AA           	tax
0002A4r 1  88           	dey
0002A5r 1  B1 rr        	lda     (sp),y
0002A7r 1  20 rr rr     	jsr     _free
0002AAr 1               ;
0002AAr 1               ; return 0;
0002AAr 1               ;
0002AAr 1               	.dbg	line, "hello.c", 180
0002AAr 1  A2 00        	ldx     #$00
0002ACr 1  8A           L0018:	txa
0002ADr 1               ;
0002ADr 1               ; }
0002ADr 1               ;
0002ADr 1               	.dbg	line, "hello.c", 181
0002ADr 1  A0 0C        	ldy     #$0C
0002AFr 1  4C rr rr     	jmp     addysp
0002B2r 1               
0002B2r 1               	.dbg	line
0002B2r 1               .endproc
0002B2r 1               
0002B2r 1               ; ---------------------------------------------------------------
0002B2r 1               ; void __near__ seperator (void)
0002B2r 1               ; ---------------------------------------------------------------
0002B2r 1               
0002B2r 1               .segment	"CODE"
0002B2r 1               
0002B2r 1               .proc	_seperator: near
0002B2r 1               
0002B2r 1               	.dbg	func, "seperator", "00", extern, "_seperator"
0002B2r 1               
0002B2r 1               .segment	"CODE"
0002B2r 1               
0002B2r 1               ;
0002B2r 1               ; printf("\n==============================================================\n");
0002B2r 1               ;
0002B2r 1               	.dbg	line, "hello.c", 184
0002B2r 1  A9 rr        	lda     #<(S002F)
0002B4r 1  A2 rr        	ldx     #>(S002F)
0002B6r 1  20 rr rr     	jsr     pushax
0002B9r 1  A0 02        	ldy     #$02
0002BBr 1  4C rr rr     	jmp     _printf
0002BEr 1               
0002BEr 1               	.dbg	line
0002BEr 1               .endproc
0002BEr 1               
0002BEr 1               ; ---------------------------------------------------------------
0002BEr 1               ; void __near__ main (void)
0002BEr 1               ; ---------------------------------------------------------------
0002BEr 1               
0002BEr 1               .segment	"CODE"
0002BEr 1               
0002BEr 1               .proc	_main: near
0002BEr 1               
0002BEr 1               	.dbg	func, "main", "00", extern, "_main"
0002BEr 1               	.dbg	sym, "source", "00", auto, -2
0002BEr 1               	.dbg	sym, "dest", "00", auto, -4
0002BEr 1               	.dbg	sym, "i", "00", auto, -6
0002BEr 1               	.dbg	sym, "j", "00", auto, -8
0002BEr 1               	.dbg	sym, "k", "00", auto, -10
0002BEr 1               	.dbg	sym, "ptr", "00", auto, -12
0002BEr 1               	.dbg	sym, "result", "00", auto, -14
0002BEr 1               	.dbg	sym, "myfile", "00", auto, -16
0002BEr 1               	.dbg	sym, "fnum", "00", auto, -20
0002BEr 1               
0002BEr 1               .segment	"CODE"
0002BEr 1               
0002BEr 1               ;
0002BEr 1               ; char *source = "source.txt";
0002BEr 1               ;
0002BEr 1               	.dbg	line, "hello.c", 18
0002BEr 1  A9 rr        	lda     #<(S0001)
0002C0r 1  A2 rr        	ldx     #>(S0001)
0002C2r 1  20 rr rr     	jsr     pushax
0002C5r 1               ;
0002C5r 1               ; char *dest   = "acopy.txt";
0002C5r 1               ;
0002C5r 1               	.dbg	line, "hello.c", 19
0002C5r 1  A9 rr        	lda     #<(S0002)
0002C7r 1  A2 rr        	ldx     #>(S0002)
0002C9r 1  20 rr rr     	jsr     pushax
0002CCr 1               ;
0002CCr 1               ; long fnum = 26 ;
0002CCr 1               ;
0002CCr 1               	.dbg	line, "hello.c", 23
0002CCr 1  A0 0C        	ldy     #$0C
0002CEr 1  20 rr rr     	jsr     subysp
0002D1r 1  A2 00        	ldx     #$00
0002D3r 1  A9 1A        	lda     #$1A
0002D5r 1  20 rr rr     	jsr     push0ax
0002D8r 1               ;
0002D8r 1               ; for(i=0; i < 10; i++) {
0002D8r 1               ;
0002D8r 1               	.dbg	line, "hello.c", 25
0002D8r 1  A0 0E        	ldy     #$0E
0002DAr 1  8A           	txa
0002DBr 1  91 rr        	sta     (sp),y
0002DDr 1  C8           	iny
0002DEr 1  91 rr        	sta     (sp),y
0002E0r 1  A0 0F        L0002:	ldy     #$0F
0002E2r 1  B1 rr        	lda     (sp),y
0002E4r 1  AA           	tax
0002E5r 1  88           	dey
0002E6r 1  B1 rr        	lda     (sp),y
0002E8r 1  C9 0A        	cmp     #$0A
0002EAr 1  8A           	txa
0002EBr 1  E9 00        	sbc     #$00
0002EDr 1  50 02        	bvc     L0006
0002EFr 1  49 80        	eor     #$80
0002F1r 1  10 4E        L0006:	bpl     L0025
0002F3r 1               ;
0002F3r 1               ; ptr = malloc(bufferlen);
0002F3r 1               ;
0002F3r 1               	.dbg	line, "hello.c", 26
0002F3r 1  A2 03        	ldx     #$03
0002F5r 1  A9 FC        	lda     #$FC
0002F7r 1  20 rr rr     	jsr     _malloc
0002FAr 1  A0 08        	ldy     #$08
0002FCr 1  20 rr rr     	jsr     staxysp
0002FFr 1               ;
0002FFr 1               ; strcpy(ptr, "this is a string");
0002FFr 1               ;
0002FFr 1               	.dbg	line, "hello.c", 27
0002FFr 1  20 rr rr     	jsr     pushax
000302r 1  A9 rr        	lda     #<(S0003)
000304r 1  A2 rr        	ldx     #>(S0003)
000306r 1  20 rr rr     	jsr     _strcpy
000309r 1               ;
000309r 1               ; printf("\n Dynamic hello world %s - %d\n",ptr,i);
000309r 1               ;
000309r 1               	.dbg	line, "hello.c", 28
000309r 1  A9 rr        	lda     #<(S0004)
00030Br 1  A2 rr        	ldx     #>(S0004)
00030Dr 1  20 rr rr     	jsr     pushax
000310r 1  A0 0D        	ldy     #$0D
000312r 1  20 rr rr     	jsr     pushwysp
000315r 1  A0 15        	ldy     #$15
000317r 1  20 rr rr     	jsr     pushwysp
00031Ar 1  A0 06        	ldy     #$06
00031Cr 1  20 rr rr     	jsr     _printf
00031Fr 1               ;
00031Fr 1               ; printf("\n Static Hello World\n");
00031Fr 1               ;
00031Fr 1               	.dbg	line, "hello.c", 29
00031Fr 1  A9 rr        	lda     #<(S0005)
000321r 1  A2 rr        	ldx     #>(S0005)
000323r 1  20 rr rr     	jsr     pushax
000326r 1  A0 02        	ldy     #$02
000328r 1  20 rr rr     	jsr     _printf
00032Br 1               ;
00032Br 1               ; free(ptr);
00032Br 1               ;
00032Br 1               	.dbg	line, "hello.c", 30
00032Br 1  A0 09        	ldy     #$09
00032Dr 1  B1 rr        	lda     (sp),y
00032Fr 1  AA           	tax
000330r 1  88           	dey
000331r 1  B1 rr        	lda     (sp),y
000333r 1  20 rr rr     	jsr     _free
000336r 1               ;
000336r 1               ; for(i=0; i < 10; i++) {
000336r 1               ;
000336r 1               	.dbg	line, "hello.c", 25
000336r 1  A0 0E        	ldy     #$0E
000338r 1  A2 00        	ldx     #$00
00033Ar 1  A9 01        	lda     #$01
00033Cr 1  20 rr rr     	jsr     addeqysp
00033Fr 1  80 9F        	bra     L0002
000341r 1               ;
000341r 1               ; k = 0;
000341r 1               ;
000341r 1               	.dbg	line, "hello.c", 33
000341r 1  A0 0A        L0025:	ldy     #$0A
000343r 1  A9 00        	lda     #$00
000345r 1  91 rr        	sta     (sp),y
000347r 1  C8           	iny
000348r 1  91 rr        	sta     (sp),y
00034Ar 1               ;
00034Ar 1               ; printf("Begin Loop test 500,000");
00034Ar 1               ;
00034Ar 1               	.dbg	line, "hello.c", 34
00034Ar 1  A9 rr        	lda     #<(S0006)
00034Cr 1  A2 rr        	ldx     #>(S0006)
00034Er 1  20 rr rr     	jsr     pushax
000351r 1  A0 02        	ldy     #$02
000353r 1  20 rr rr     	jsr     _printf
000356r 1               ;
000356r 1               ; for(i=0; i<100; i++) {
000356r 1               ;
000356r 1               	.dbg	line, "hello.c", 35
000356r 1  A0 0E        	ldy     #$0E
000358r 1  A9 00        	lda     #$00
00035Ar 1  91 rr        	sta     (sp),y
00035Cr 1  C8           	iny
00035Dr 1  91 rr        	sta     (sp),y
00035Fr 1  A0 0F        L0007:	ldy     #$0F
000361r 1  B1 rr        	lda     (sp),y
000363r 1  AA           	tax
000364r 1  88           	dey
000365r 1  B1 rr        	lda     (sp),y
000367r 1  C9 64        	cmp     #$64
000369r 1  8A           	txa
00036Ar 1  E9 00        	sbc     #$00
00036Cr 1  50 02        	bvc     L000B
00036Er 1  49 80        	eor     #$80
000370r 1  10 3B        L000B:	bpl     L0008
000372r 1               ;
000372r 1               ; for(j=0; j<50; j++) {
000372r 1               ;
000372r 1               	.dbg	line, "hello.c", 36
000372r 1  A0 0C        	ldy     #$0C
000374r 1  A9 00        	lda     #$00
000376r 1  91 rr        	sta     (sp),y
000378r 1  C8           	iny
000379r 1  91 rr        	sta     (sp),y
00037Br 1  A0 0D        L000C:	ldy     #$0D
00037Dr 1  B1 rr        	lda     (sp),y
00037Fr 1  AA           	tax
000380r 1  88           	dey
000381r 1  B1 rr        	lda     (sp),y
000383r 1  C9 32        	cmp     #$32
000385r 1  8A           	txa
000386r 1  E9 00        	sbc     #$00
000388r 1  50 02        	bvc     L0010
00038Ar 1  49 80        	eor     #$80
00038Cr 1  10 14        L0010:	bpl     L0009
00038Er 1               ;
00038Er 1               ; k++;
00038Er 1               ;
00038Er 1               	.dbg	line, "hello.c", 37
00038Er 1  A0 0A        	ldy     #$0A
000390r 1  A2 00        	ldx     #$00
000392r 1  A9 01        	lda     #$01
000394r 1  20 rr rr     	jsr     addeqysp
000397r 1               ;
000397r 1               ; for(j=0; j<50; j++) {
000397r 1               ;
000397r 1               	.dbg	line, "hello.c", 36
000397r 1  A0 0C        	ldy     #$0C
000399r 1  A2 00        	ldx     #$00
00039Br 1  A9 01        	lda     #$01
00039Dr 1  20 rr rr     	jsr     addeqysp
0003A0r 1  80 D9        	bra     L000C
0003A2r 1               ;
0003A2r 1               ; for(i=0; i<100; i++) {
0003A2r 1               ;
0003A2r 1               	.dbg	line, "hello.c", 35
0003A2r 1  A0 0E        L0009:	ldy     #$0E
0003A4r 1  A2 00        	ldx     #$00
0003A6r 1  A9 01        	lda     #$01
0003A8r 1  20 rr rr     	jsr     addeqysp
0003ABr 1  80 B2        	bra     L0007
0003ADr 1               ;
0003ADr 1               ; printf("End loop test\n");
0003ADr 1               ;
0003ADr 1               	.dbg	line, "hello.c", 41
0003ADr 1  A9 rr        L0008:	lda     #<(S0007)
0003AFr 1  A2 rr        	ldx     #>(S0007)
0003B1r 1  20 rr rr     	jsr     pushax
0003B4r 1  A0 02        	ldy     #$02
0003B6r 1  20 rr rr     	jsr     _printf
0003B9r 1               ;
0003B9r 1               ; seperator();
0003B9r 1               ;
0003B9r 1               	.dbg	line, "hello.c", 42
0003B9r 1  20 rr rr     	jsr     _seperator
0003BCr 1               ;
0003BCr 1               ; printf("Try to putchar('a')\n");
0003BCr 1               ;
0003BCr 1               	.dbg	line, "hello.c", 43
0003BCr 1  A9 rr        	lda     #<(S0008)
0003BEr 1  A2 rr        	ldx     #>(S0008)
0003C0r 1  20 rr rr     	jsr     pushax
0003C3r 1  A0 02        	ldy     #$02
0003C5r 1  20 rr rr     	jsr     _printf
0003C8r 1               ;
0003C8r 1               ; for(i=0; i < 10; i++) putchar('a');
0003C8r 1               ;
0003C8r 1               	.dbg	line, "hello.c", 45
0003C8r 1  A0 0E        	ldy     #$0E
0003CAr 1  A9 00        	lda     #$00
0003CCr 1  91 rr        	sta     (sp),y
0003CEr 1  C8           	iny
0003CFr 1  91 rr        	sta     (sp),y
0003D1r 1  A0 0F        L0011:	ldy     #$0F
0003D3r 1  B1 rr        	lda     (sp),y
0003D5r 1  AA           	tax
0003D6r 1  88           	dey
0003D7r 1  B1 rr        	lda     (sp),y
0003D9r 1  C9 0A        	cmp     #$0A
0003DBr 1  8A           	txa
0003DCr 1  E9 00        	sbc     #$00
0003DEr 1  50 02        	bvc     L0015
0003E0r 1  49 80        	eor     #$80
0003E2r 1  0A           L0015:	asl     a
0003E3r 1  A9 00        	lda     #$00
0003E5r 1  AA           	tax
0003E6r 1  2A           	rol     a
0003E7r 1  F0 10        	beq     L0012
0003E9r 1  A9 61        	lda     #$61
0003EBr 1  20 rr rr     	jsr     _putchar
0003EEr 1  A0 0E        	ldy     #$0E
0003F0r 1  A2 00        	ldx     #$00
0003F2r 1  A9 01        	lda     #$01
0003F4r 1  20 rr rr     	jsr     addeqysp
0003F7r 1  80 D8        	bra     L0011
0003F9r 1               ;
0003F9r 1               ; seperator();
0003F9r 1               ;
0003F9r 1               	.dbg	line, "hello.c", 46
0003F9r 1  20 rr rr     L0012:	jsr     _seperator
0003FCr 1               ;
0003FCr 1               ; printf("Completed putch test\n");
0003FCr 1               ;
0003FCr 1               	.dbg	line, "hello.c", 47
0003FCr 1  A9 rr        	lda     #<(S0009)
0003FEr 1  A2 rr        	ldx     #>(S0009)
000400r 1  20 rr rr     	jsr     pushax
000403r 1  A0 02        	ldy     #$02
000405r 1  20 rr rr     	jsr     _printf
000408r 1               ;
000408r 1               ; fnum = 0x20000;
000408r 1               ;
000408r 1               	.dbg	line, "hello.c", 48
000408r 1  A9 00        	lda     #$00
00040Ar 1  92 rr        	sta     (sp)
00040Cr 1  A0 01        	ldy     #$01
00040Er 1  91 rr        	sta     (sp),y
000410r 1  A0 03        	ldy     #$03
000412r 1  91 rr        	sta     (sp),y
000414r 1  A9 02        	lda     #$02
000416r 1  88           	dey
000417r 1  91 rr        	sta     (sp),y
000419r 1               ;
000419r 1               ; printf("The long integer number is %ld\n",fnum);
000419r 1               ;
000419r 1               	.dbg	line, "hello.c", 49
000419r 1  A9 rr        	lda     #<(S000A)
00041Br 1  A2 rr        	ldx     #>(S000A)
00041Dr 1  20 rr rr     	jsr     pushax
000420r 1  A0 05        	ldy     #$05
000422r 1  20 rr rr     	jsr     ldeaxysp
000425r 1  20 rr rr     	jsr     pusheax
000428r 1  A0 06        	ldy     #$06
00042Ar 1  20 rr rr     	jsr     _printf
00042Dr 1               ;
00042Dr 1               ; seperator();
00042Dr 1               ;
00042Dr 1               	.dbg	line, "hello.c", 51
00042Dr 1  20 rr rr     	jsr     _seperator
000430r 1               ;
000430r 1               ; printf("Begin open close read write tests\n");
000430r 1               ;
000430r 1               	.dbg	line, "hello.c", 52
000430r 1  A9 rr        	lda     #<(S000B)
000432r 1  A2 rr        	ldx     #>(S000B)
000434r 1  20 rr rr     	jsr     pushax
000437r 1  A0 02        	ldy     #$02
000439r 1  20 rr rr     	jsr     _printf
00043Cr 1               ;
00043Cr 1               ; i = open(source,O_RDONLY);
00043Cr 1               ;
00043Cr 1               	.dbg	line, "hello.c", 53
00043Cr 1  20 rr rr     	jsr     decsp4
00043Fr 1  A0 17        	ldy     #$17
000441r 1  B1 rr        	lda     (sp),y
000443r 1  AA           	tax
000444r 1  88           	dey
000445r 1  B1 rr        	lda     (sp),y
000447r 1  A0 02        	ldy     #$02
000449r 1  91 rr        	sta     (sp),y
00044Br 1  C8           	iny
00044Cr 1  8A           	txa
00044Dr 1  91 rr        	sta     (sp),y
00044Fr 1  A9 01        	lda     #$01
000451r 1  92 rr        	sta     (sp)
000453r 1  A8           	tay
000454r 1  3A           	dea
000455r 1  91 rr        	sta     (sp),y
000457r 1  A0 04        	ldy     #$04
000459r 1  20 rr rr     	jsr     _open
00045Cr 1  A0 0E        	ldy     #$0E
00045Er 1  20 rr rr     	jsr     staxysp
000461r 1               ;
000461r 1               ; seperator();
000461r 1               ;
000461r 1               	.dbg	line, "hello.c", 54
000461r 1  20 rr rr     	jsr     _seperator
000464r 1               ;
000464r 1               ; printf("Test reading a file \n Open %s returned %d, Error number %d\n",source,i,errno);
000464r 1               ;
000464r 1               	.dbg	line, "hello.c", 55
000464r 1  A9 rr        	lda     #<(S000C)
000466r 1  A2 rr        	ldx     #>(S000C)
000468r 1  20 rr rr     	jsr     pushax
00046Br 1  A0 17        	ldy     #$17
00046Dr 1  20 rr rr     	jsr     pushwysp
000470r 1  A0 15        	ldy     #$15
000472r 1  20 rr rr     	jsr     pushwysp
000475r 1  AD rr rr     	lda     ___errno
000478r 1  AE rr rr     	ldx     ___errno+1
00047Br 1  20 rr rr     	jsr     pushax
00047Er 1  A0 08        	ldy     #$08
000480r 1  20 rr rr     	jsr     _printf
000483r 1               ;
000483r 1               ; ptr = malloc(bufferlen);
000483r 1               ;
000483r 1               	.dbg	line, "hello.c", 56
000483r 1  A2 03        	ldx     #$03
000485r 1  A9 FC        	lda     #$FC
000487r 1  20 rr rr     	jsr     _malloc
00048Ar 1  A0 08        	ldy     #$08
00048Cr 1  20 rr rr     	jsr     staxysp
00048Fr 1               ;
00048Fr 1               ; k=1;
00048Fr 1               ;
00048Fr 1               	.dbg	line, "hello.c", 57
00048Fr 1  A2 00        	ldx     #$00
000491r 1  A9 01        	lda     #$01
000493r 1  A0 0A        	ldy     #$0A
000495r 1  20 rr rr     	jsr     staxysp
000498r 1               ;
000498r 1               ; seperator();
000498r 1               ;
000498r 1               	.dbg	line, "hello.c", 58
000498r 1  20 rr rr     	jsr     _seperator
00049Br 1               ;
00049Br 1               ; printf("Begin Reading test from %s Data: \n",source);
00049Br 1               ;
00049Br 1               	.dbg	line, "hello.c", 59
00049Br 1  A9 rr        	lda     #<(S000D)
00049Dr 1  A2 rr        	ldx     #>(S000D)
00049Fr 1  20 rr rr     	jsr     pushax
0004A2r 1  A0 15        	ldy     #$15
0004A4r 1               ;
0004A4r 1               ; while (k != 0) {
0004A4r 1               ;
0004A4r 1               	.dbg	line, "hello.c", 61
0004A4r 1  80 6E        	bra     L0028
0004A6r 1               ;
0004A6r 1               ; k = read(3,ptr,bufferlen-1);
0004A6r 1               ;
0004A6r 1               	.dbg	line, "hello.c", 62
0004A6r 1  20 rr rr     L0016:	jsr     decsp4
0004A9r 1  A9 03        	lda     #$03
0004ABr 1  A0 02        	ldy     #$02
0004ADr 1  91 rr        	sta     (sp),y
0004AFr 1  C8           	iny
0004B0r 1  A9 00        	lda     #$00
0004B2r 1  91 rr        	sta     (sp),y
0004B4r 1  A0 0D        	ldy     #$0D
0004B6r 1  B1 rr        	lda     (sp),y
0004B8r 1  AA           	tax
0004B9r 1  88           	dey
0004BAr 1  B1 rr        	lda     (sp),y
0004BCr 1  92 rr        	sta     (sp)
0004BEr 1  A0 01        	ldy     #$01
0004C0r 1  8A           	txa
0004C1r 1  91 rr        	sta     (sp),y
0004C3r 1  A2 03        	ldx     #$03
0004C5r 1  A9 FB        	lda     #$FB
0004C7r 1  20 rr rr     	jsr     _read
0004CAr 1  A0 0A        	ldy     #$0A
0004CCr 1  20 rr rr     	jsr     staxysp
0004CFr 1               ;
0004CFr 1               ; if (k > 0) {
0004CFr 1               ;
0004CFr 1               	.dbg	line, "hello.c", 63
0004CFr 1  C9 01        	cmp     #$01
0004D1r 1  8A           	txa
0004D2r 1  E9 00        	sbc     #$00
0004D4r 1  70 02        	bvs     L001B
0004D6r 1  49 80        	eor     #$80
0004D8r 1  0A           L001B:	asl     a
0004D9r 1  A2 00        	ldx     #$00
0004DBr 1  90 45        	bcc     L001A
0004DDr 1               ;
0004DDr 1               ; printf("\nRead %d bytes from %s Data:\n---------------------------------\n",k,source);
0004DDr 1               ;
0004DDr 1               	.dbg	line, "hello.c", 64
0004DDr 1  A9 rr        	lda     #<(S000E)
0004DFr 1  A2 rr        	ldx     #>(S000E)
0004E1r 1  20 rr rr     	jsr     pushax
0004E4r 1  A0 0F        	ldy     #$0F
0004E6r 1  20 rr rr     	jsr     pushwysp
0004E9r 1  A0 19        	ldy     #$19
0004EBr 1  20 rr rr     	jsr     pushwysp
0004EEr 1  A0 06        	ldy     #$06
0004F0r 1  20 rr rr     	jsr     _printf
0004F3r 1               ;
0004F3r 1               ; ptr[k] = 0;
0004F3r 1               ;
0004F3r 1               	.dbg	line, "hello.c", 65
0004F3r 1  A0 08        	ldy     #$08
0004F5r 1  B1 rr        	lda     (sp),y
0004F7r 1  A0 0A        	ldy     #$0A
0004F9r 1  18           	clc
0004FAr 1  71 rr        	adc     (sp),y
0004FCr 1  85 rr        	sta     ptr1
0004FEr 1  88           	dey
0004FFr 1  B1 rr        	lda     (sp),y
000501r 1  A0 0B        	ldy     #$0B
000503r 1  71 rr        	adc     (sp),y
000505r 1  85 rr        	sta     ptr1+1
000507r 1  A9 00        	lda     #$00
000509r 1  92 rr        	sta     (ptr1)
00050Br 1               ;
00050Br 1               ; printf("%s\n",ptr);
00050Br 1               ;
00050Br 1               	.dbg	line, "hello.c", 66
00050Br 1  A9 rr        	lda     #<(S000F)
00050Dr 1  A2 rr        	ldx     #>(S000F)
00050Fr 1  20 rr rr     	jsr     pushax
000512r 1  A0 0B        	ldy     #$0B
000514r 1  B1 rr        L0028:	lda     (sp),y
000516r 1  AA           	tax
000517r 1  88           	dey
000518r 1  B1 rr        	lda     (sp),y
00051Ar 1  20 rr rr     	jsr     pushax
00051Dr 1  A0 04        	ldy     #$04
00051Fr 1  20 rr rr     	jsr     _printf
000522r 1               ;
000522r 1               ; while (k != 0) {
000522r 1               ;
000522r 1               	.dbg	line, "hello.c", 61
000522r 1  A0 0A        L001A:	ldy     #$0A
000524r 1  B1 rr        	lda     (sp),y
000526r 1  C8           	iny
000527r 1  11 rr        	ora     (sp),y
000529r 1  F0 03 4C rr  	jne     L0016
00052Dr 1  rr           
00052Er 1               ;
00052Er 1               ; seperator();
00052Er 1               ;
00052Er 1               	.dbg	line, "hello.c", 69
00052Er 1  20 rr rr     	jsr     _seperator
000531r 1               ;
000531r 1               ; printf("Read Test Complete for %s\n",source);
000531r 1               ;
000531r 1               	.dbg	line, "hello.c", 70
000531r 1  A9 rr        	lda     #<(S0010)
000533r 1  A2 rr        	ldx     #>(S0010)
000535r 1  20 rr rr     	jsr     pushax
000538r 1  A0 17        	ldy     #$17
00053Ar 1  20 rr rr     	jsr     pushwysp
00053Dr 1  A0 04        	ldy     #$04
00053Fr 1  20 rr rr     	jsr     _printf
000542r 1               ;
000542r 1               ; j = close(i);
000542r 1               ;
000542r 1               	.dbg	line, "hello.c", 72
000542r 1  A0 0F        	ldy     #$0F
000544r 1  B1 rr        	lda     (sp),y
000546r 1  AA           	tax
000547r 1  88           	dey
000548r 1  B1 rr        	lda     (sp),y
00054Ar 1  20 rr rr     	jsr     _close
00054Dr 1  A0 0C        	ldy     #$0C
00054Fr 1  20 rr rr     	jsr     staxysp
000552r 1               ;
000552r 1               ; printf("Closing %s returned %d, Error number %d\n",source,j,errno);
000552r 1               ;
000552r 1               	.dbg	line, "hello.c", 73
000552r 1  A9 rr        	lda     #<(S0011)
000554r 1  A2 rr        	ldx     #>(S0011)
000556r 1  20 rr rr     	jsr     pushax
000559r 1  A0 17        	ldy     #$17
00055Br 1  20 rr rr     	jsr     pushwysp
00055Er 1  A0 13        	ldy     #$13
000560r 1  20 rr rr     	jsr     pushwysp
000563r 1  AD rr rr     	lda     ___errno
000566r 1  AE rr rr     	ldx     ___errno+1
000569r 1  20 rr rr     	jsr     pushax
00056Cr 1  A0 08        	ldy     #$08
00056Er 1  20 rr rr     	jsr     _printf
000571r 1               ;
000571r 1               ; seperator();
000571r 1               ;
000571r 1               	.dbg	line, "hello.c", 74
000571r 1  20 rr rr     	jsr     _seperator
000574r 1               ;
000574r 1               ; myfile = fopen(source,"r");
000574r 1               ;
000574r 1               	.dbg	line, "hello.c", 76
000574r 1  A0 15        	ldy     #$15
000576r 1  20 rr rr     	jsr     pushwysp
000579r 1  A9 rr        	lda     #<(S0012)
00057Br 1  A2 rr        	ldx     #>(S0012)
00057Dr 1  20 rr rr     	jsr     _fopen
000580r 1  A0 04        	ldy     #$04
000582r 1  20 rr rr     	jsr     staxysp
000585r 1               ;
000585r 1               ; printf("Begining test of fread/fclose/fopen of %s returned %d, Error number %d\n",source,myfile,errno);
000585r 1               ;
000585r 1               	.dbg	line, "hello.c", 77
000585r 1  A9 rr        	lda     #<(S0013)
000587r 1  A2 rr        	ldx     #>(S0013)
000589r 1  20 rr rr     	jsr     pushax
00058Cr 1  A0 17        	ldy     #$17
00058Er 1  20 rr rr     	jsr     pushwysp
000591r 1  A0 0B        	ldy     #$0B
000593r 1  20 rr rr     	jsr     pushwysp
000596r 1  AD rr rr     	lda     ___errno
000599r 1  AE rr rr     	ldx     ___errno+1
00059Cr 1  20 rr rr     	jsr     pushax
00059Fr 1  A0 08        	ldy     #$08
0005A1r 1  20 rr rr     	jsr     _printf
0005A4r 1               ;
0005A4r 1               ; k = fread(ptr,1,blockcount,myfile);
0005A4r 1               ;
0005A4r 1               	.dbg	line, "hello.c", 79
0005A4r 1  20 rr rr     	jsr     decsp6
0005A7r 1  A0 0F        	ldy     #$0F
0005A9r 1  B1 rr        	lda     (sp),y
0005ABr 1  AA           	tax
0005ACr 1  88           	dey
0005ADr 1  B1 rr        	lda     (sp),y
0005AFr 1  A0 04        	ldy     #$04
0005B1r 1  91 rr        	sta     (sp),y
0005B3r 1  C8           	iny
0005B4r 1  8A           	txa
0005B5r 1  91 rr        	sta     (sp),y
0005B7r 1  A9 01        	lda     #$01
0005B9r 1  A0 02        	ldy     #$02
0005BBr 1  91 rr        	sta     (sp),y
0005BDr 1  C8           	iny
0005BEr 1  3A           	dea
0005BFr 1  91 rr        	sta     (sp),y
0005C1r 1  A9 FB        	lda     #$FB
0005C3r 1  92 rr        	sta     (sp)
0005C5r 1  A0 01        	ldy     #$01
0005C7r 1  A9 03        	lda     #$03
0005C9r 1  91 rr        	sta     (sp),y
0005CBr 1  A0 0B        	ldy     #$0B
0005CDr 1  B1 rr        	lda     (sp),y
0005CFr 1  AA           	tax
0005D0r 1  88           	dey
0005D1r 1  B1 rr        	lda     (sp),y
0005D3r 1  20 rr rr     	jsr     _fread
0005D6r 1  A0 0A        	ldy     #$0A
0005D8r 1  20 rr rr     	jsr     staxysp
0005DBr 1               ;
0005DBr 1               ; ptr[k*blocklen] = 0;
0005DBr 1               ;
0005DBr 1               	.dbg	line, "hello.c", 80
0005DBr 1  A0 08        	ldy     #$08
0005DDr 1  B1 rr        	lda     (sp),y
0005DFr 1  A0 0A        	ldy     #$0A
0005E1r 1  18           	clc
0005E2r 1  71 rr        	adc     (sp),y
0005E4r 1  85 rr        	sta     ptr1
0005E6r 1  88           	dey
0005E7r 1  B1 rr        	lda     (sp),y
0005E9r 1  A0 0B        	ldy     #$0B
0005EBr 1  71 rr        	adc     (sp),y
0005EDr 1  85 rr        	sta     ptr1+1
0005EFr 1  A9 00        	lda     #$00
0005F1r 1  92 rr        	sta     (ptr1)
0005F3r 1               ;
0005F3r 1               ; printf("fread %s Count returned %d bytes and %d elements, Error number %d\nData fread:\n",source,k*blocklen,k,errno);
0005F3r 1               ;
0005F3r 1               	.dbg	line, "hello.c", 81
0005F3r 1  A9 rr        	lda     #<(S0014)
0005F5r 1  A2 rr        	ldx     #>(S0014)
0005F7r 1  20 rr rr     	jsr     pushax
0005FAr 1  A0 17        	ldy     #$17
0005FCr 1  20 rr rr     	jsr     pushwysp
0005FFr 1  A0 11        	ldy     #$11
000601r 1  20 rr rr     	jsr     pushwysp
000604r 1  A0 13        	ldy     #$13
000606r 1  20 rr rr     	jsr     pushwysp
000609r 1  AD rr rr     	lda     ___errno
00060Cr 1  AE rr rr     	ldx     ___errno+1
00060Fr 1  20 rr rr     	jsr     pushax
000612r 1  A0 0A        	ldy     #$0A
000614r 1  20 rr rr     	jsr     _printf
000617r 1               ;
000617r 1               ; printf("%s\n",ptr);
000617r 1               ;
000617r 1               	.dbg	line, "hello.c", 82
000617r 1  A9 rr        	lda     #<(S0015)
000619r 1  A2 rr        	ldx     #>(S0015)
00061Br 1  20 rr rr     	jsr     pushax
00061Er 1  A0 0D        	ldy     #$0D
000620r 1  20 rr rr     	jsr     pushwysp
000623r 1  A0 04        	ldy     #$04
000625r 1  20 rr rr     	jsr     _printf
000628r 1               ;
000628r 1               ; seperator();
000628r 1               ;
000628r 1               	.dbg	line, "hello.c", 83
000628r 1  20 rr rr     	jsr     _seperator
00062Br 1               ;
00062Br 1               ; i = fclose(myfile);
00062Br 1               ;
00062Br 1               	.dbg	line, "hello.c", 84
00062Br 1  A0 05        	ldy     #$05
00062Dr 1  B1 rr        	lda     (sp),y
00062Fr 1  AA           	tax
000630r 1  88           	dey
000631r 1  B1 rr        	lda     (sp),y
000633r 1  20 rr rr     	jsr     _fclose
000636r 1  A0 0E        	ldy     #$0E
000638r 1  20 rr rr     	jsr     staxysp
00063Br 1               ;
00063Br 1               ; printf("\nfclose %s returned %d, Error number %d\n",source,i,errno);
00063Br 1               ;
00063Br 1               	.dbg	line, "hello.c", 85
00063Br 1  A9 rr        	lda     #<(S0016)
00063Dr 1  A2 rr        	ldx     #>(S0016)
00063Fr 1  20 rr rr     	jsr     pushax
000642r 1  A0 17        	ldy     #$17
000644r 1  20 rr rr     	jsr     pushwysp
000647r 1  A0 15        	ldy     #$15
000649r 1  20 rr rr     	jsr     pushwysp
00064Cr 1  AD rr rr     	lda     ___errno
00064Fr 1  AE rr rr     	ldx     ___errno+1
000652r 1  20 rr rr     	jsr     pushax
000655r 1  A0 08        	ldy     #$08
000657r 1  20 rr rr     	jsr     _printf
00065Ar 1               ;
00065Ar 1               ; seperator();
00065Ar 1               ;
00065Ar 1               	.dbg	line, "hello.c", 86
00065Ar 1  20 rr rr     	jsr     _seperator
00065Dr 1               ;
00065Dr 1               ; printf("Begin Copy test\n");
00065Dr 1               ;
00065Dr 1               	.dbg	line, "hello.c", 87
00065Dr 1  A9 rr        	lda     #<(S0017)
00065Fr 1  A2 rr        	ldx     #>(S0017)
000661r 1  20 rr rr     	jsr     pushax
000664r 1  A0 02        	ldy     #$02
000666r 1  20 rr rr     	jsr     _printf
000669r 1               ;
000669r 1               ; ptr[0] = 0;  // clear the buffer
000669r 1               ;
000669r 1               	.dbg	line, "hello.c", 89
000669r 1  A0 09        	ldy     #$09
00066Br 1  B1 rr        	lda     (sp),y
00066Dr 1  85 rr        	sta     ptr1+1
00066Fr 1  88           	dey
000670r 1  B1 rr        	lda     (sp),y
000672r 1  85 rr        	sta     ptr1
000674r 1  A9 00        	lda     #$00
000676r 1  92 rr        	sta     (ptr1)
000678r 1               ;
000678r 1               ; free(ptr);
000678r 1               ;
000678r 1               	.dbg	line, "hello.c", 90
000678r 1  C8           	iny
000679r 1  B1 rr        	lda     (sp),y
00067Br 1  AA           	tax
00067Cr 1  88           	dey
00067Dr 1  B1 rr        	lda     (sp),y
00067Fr 1  20 rr rr     	jsr     _free
000682r 1               ;
000682r 1               ; if (!copy(source,dest)) {
000682r 1               ;
000682r 1               	.dbg	line, "hello.c", 92
000682r 1  A0 15        	ldy     #$15
000684r 1  20 rr rr     	jsr     pushwysp
000687r 1  A0 13        	ldy     #$13
000689r 1  B1 rr        	lda     (sp),y
00068Br 1  AA           	tax
00068Cr 1  88           	dey
00068Dr 1  B1 rr        	lda     (sp),y
00068Fr 1  20 rr rr     	jsr     _copy
000692r 1  86 rr        	stx     tmp1
000694r 1  05 rr        	ora     tmp1
000696r 1  F0 03 4C rr  	jne     L001D
00069Ar 1  rr           
00069Br 1               ;
00069Br 1               ; printf("Copy completed correctly, reading %s to comfirm\n",dest);
00069Br 1               ;
00069Br 1               	.dbg	line, "hello.c", 93
00069Br 1  A9 rr        	lda     #<(S0018)
00069Dr 1  A2 rr        	ldx     #>(S0018)
00069Fr 1  20 rr rr     	jsr     pushax
0006A2r 1  A0 15        	ldy     #$15
0006A4r 1  20 rr rr     	jsr     pushwysp
0006A7r 1  A0 04        	ldy     #$04
0006A9r 1  20 rr rr     	jsr     _printf
0006ACr 1               ;
0006ACr 1               ; myfile = fopen(dest,"r");
0006ACr 1               ;
0006ACr 1               	.dbg	line, "hello.c", 94
0006ACr 1  A0 13        	ldy     #$13
0006AEr 1  20 rr rr     	jsr     pushwysp
0006B1r 1  A9 rr        	lda     #<(S0019)
0006B3r 1  A2 rr        	ldx     #>(S0019)
0006B5r 1  20 rr rr     	jsr     _fopen
0006B8r 1  A0 04        	ldy     #$04
0006BAr 1  20 rr rr     	jsr     staxysp
0006BDr 1               ;
0006BDr 1               ; printf("After Copy fopen %s returned %d, Error number %d\nDoing fscanf\n",dest,myfile,errno);
0006BDr 1               ;
0006BDr 1               	.dbg	line, "hello.c", 95
0006BDr 1  A9 rr        	lda     #<(S001A)
0006BFr 1  A2 rr        	ldx     #>(S001A)
0006C1r 1  20 rr rr     	jsr     pushax
0006C4r 1  A0 15        	ldy     #$15
0006C6r 1  20 rr rr     	jsr     pushwysp
0006C9r 1  A0 0B        	ldy     #$0B
0006CBr 1  20 rr rr     	jsr     pushwysp
0006CEr 1  AD rr rr     	lda     ___errno
0006D1r 1  AE rr rr     	ldx     ___errno+1
0006D4r 1  20 rr rr     	jsr     pushax
0006D7r 1  A0 08        	ldy     #$08
0006D9r 1  20 rr rr     	jsr     _printf
0006DCr 1               ;
0006DCr 1               ; if (myfile != 0) {
0006DCr 1               ;
0006DCr 1               	.dbg	line, "hello.c", 97
0006DCr 1  A0 04        	ldy     #$04
0006DEr 1  B1 rr        	lda     (sp),y
0006E0r 1  C8           	iny
0006E1r 1  11 rr        	ora     (sp),y
0006E3r 1  D0 03 4C rr  	jeq     L001D
0006E7r 1  rr           
0006E8r 1               ;
0006E8r 1               ; ptr = malloc(bufferlen);
0006E8r 1               ;
0006E8r 1               	.dbg	line, "hello.c", 98
0006E8r 1  A2 03        	ldx     #$03
0006EAr 1  A9 FC        	lda     #$FC
0006ECr 1  20 rr rr     	jsr     _malloc
0006EFr 1  A0 08        	ldy     #$08
0006F1r 1  20 rr rr     	jsr     staxysp
0006F4r 1               ;
0006F4r 1               ; result = fgets(ptr,bufferlen-1,myfile);
0006F4r 1               ;
0006F4r 1               	.dbg	line, "hello.c", 99
0006F4r 1  20 rr rr     	jsr     decsp4
0006F7r 1  A0 0D        	ldy     #$0D
0006F9r 1  B1 rr        	lda     (sp),y
0006FBr 1  AA           	tax
0006FCr 1  88           	dey
0006FDr 1  B1 rr        	lda     (sp),y
0006FFr 1  A0 02        	ldy     #$02
000701r 1  91 rr        	sta     (sp),y
000703r 1  C8           	iny
000704r 1  8A           	txa
000705r 1  91 rr        	sta     (sp),y
000707r 1  A9 FB        	lda     #$FB
000709r 1  92 rr        	sta     (sp)
00070Br 1  A0 01        	ldy     #$01
00070Dr 1  A9 03        	lda     #$03
00070Fr 1  91 rr        	sta     (sp),y
000711r 1  A0 09        	ldy     #$09
000713r 1  B1 rr        	lda     (sp),y
000715r 1  AA           	tax
000716r 1  88           	dey
000717r 1  B1 rr        	lda     (sp),y
000719r 1  20 rr rr     	jsr     _fgets
00071Cr 1  A0 06        	ldy     #$06
00071Er 1  20 rr rr     	jsr     staxysp
000721r 1               ;
000721r 1               ; printf("fgets() of created file %s Read returned pointer  %d :\n",dest,result);
000721r 1               ;
000721r 1               	.dbg	line, "hello.c", 100
000721r 1  A9 rr        	lda     #<(S001B)
000723r 1  A2 rr        	ldx     #>(S001B)
000725r 1  20 rr rr     	jsr     pushax
000728r 1  A0 15        	ldy     #$15
00072Ar 1  20 rr rr     	jsr     pushwysp
00072Dr 1  A0 0D        	ldy     #$0D
00072Fr 1  20 rr rr     	jsr     pushwysp
000732r 1  A0 06        	ldy     #$06
000734r 1  20 rr rr     	jsr     _printf
000737r 1               ;
000737r 1               ; if(result != NULL) {
000737r 1               ;
000737r 1               	.dbg	line, "hello.c", 102
000737r 1  A0 06        	ldy     #$06
000739r 1  B1 rr        	lda     (sp),y
00073Br 1  C8           	iny
00073Cr 1  11 rr        	ora     (sp),y
00073Er 1  F0 15        	beq     L001F
000740r 1               ;
000740r 1               ; printf("Data Read from %s:\n%s\nEnd of print\n",dest,ptr);
000740r 1               ;
000740r 1               	.dbg	line, "hello.c", 103
000740r 1  A9 rr        	lda     #<(S001C)
000742r 1  A2 rr        	ldx     #>(S001C)
000744r 1  20 rr rr     	jsr     pushax
000747r 1  A0 15        	ldy     #$15
000749r 1  20 rr rr     	jsr     pushwysp
00074Cr 1  A0 0F        	ldy     #$0F
00074Er 1  20 rr rr     	jsr     pushwysp
000751r 1  A0 06        	ldy     #$06
000753r 1               ;
000753r 1               ; } else {
000753r 1               ;
000753r 1               	.dbg	line, "hello.c", 104
000753r 1  80 0E        	bra     L0023
000755r 1               ;
000755r 1               ; printf("File %s Read after copy failed\n",dest);
000755r 1               ;
000755r 1               	.dbg	line, "hello.c", 105
000755r 1  A9 rr        L001F:	lda     #<(S001D)
000757r 1  A2 rr        	ldx     #>(S001D)
000759r 1  20 rr rr     	jsr     pushax
00075Cr 1  A0 15        	ldy     #$15
00075Er 1  20 rr rr     	jsr     pushwysp
000761r 1  A0 04        	ldy     #$04
000763r 1  20 rr rr     L0023:	jsr     _printf
000766r 1               ;
000766r 1               ; free(ptr);
000766r 1               ;
000766r 1               	.dbg	line, "hello.c", 108
000766r 1  A0 09        	ldy     #$09
000768r 1  B1 rr        	lda     (sp),y
00076Ar 1  AA           	tax
00076Br 1  88           	dey
00076Cr 1  B1 rr        	lda     (sp),y
00076Er 1  20 rr rr     	jsr     _free
000771r 1               ;
000771r 1               ; k = fclose(myfile);
000771r 1               ;
000771r 1               	.dbg	line, "hello.c", 109
000771r 1  A0 05        	ldy     #$05
000773r 1  B1 rr        	lda     (sp),y
000775r 1  AA           	tax
000776r 1  88           	dey
000777r 1  B1 rr        	lda     (sp),y
000779r 1  20 rr rr     	jsr     _fclose
00077Cr 1  A0 0A        	ldy     #$0A
00077Er 1  20 rr rr     	jsr     staxysp
000781r 1               ;
000781r 1               ; printf("fclose created %s file returned %d, Error number %d\n",dest,k,errno);
000781r 1               ;
000781r 1               	.dbg	line, "hello.c", 110
000781r 1  A9 rr        	lda     #<(S001E)
000783r 1  A2 rr        	ldx     #>(S001E)
000785r 1  20 rr rr     	jsr     pushax
000788r 1  A0 15        	ldy     #$15
00078Ar 1  20 rr rr     	jsr     pushwysp
00078Dr 1  A0 11        	ldy     #$11
00078Fr 1  20 rr rr     	jsr     pushwysp
000792r 1  AD rr rr     	lda     ___errno
000795r 1  AE rr rr     	ldx     ___errno+1
000798r 1  20 rr rr     	jsr     pushax
00079Br 1  A0 08        	ldy     #$08
00079Dr 1  20 rr rr     	jsr     _printf
0007A0r 1               ;
0007A0r 1               ; printf("All tests complete");
0007A0r 1               ;
0007A0r 1               	.dbg	line, "hello.c", 116
0007A0r 1  A9 rr        L001D:	lda     #<(S001F)
0007A2r 1  A2 rr        	ldx     #>(S001F)
0007A4r 1  20 rr rr     	jsr     pushax
0007A7r 1  A0 02        	ldy     #$02
0007A9r 1  20 rr rr     	jsr     _printf
0007ACr 1               ;
0007ACr 1               ; }
0007ACr 1               ;
0007ACr 1               	.dbg	line, "hello.c", 119
0007ACr 1  A0 14        	ldy     #$14
0007AEr 1  4C rr rr     	jmp     addysp
0007B1r 1               
0007B1r 1               	.dbg	line
0007B1r 1               .endproc
0007B1r 1               
0007B1r 1               
